<!DOCTYPE html>
<html lang="en" translate="no">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <meta name="google" content="notranslate" />
    
    <!-- Early Cache Recovery Script - catches stale bundle errors before React loads -->
    <script>
    (function() {
      var recoveryKey = 'petsos_cache_recovery';
      var hasRecovered = sessionStorage.getItem(recoveryKey) === 'true';
      
      function isStaleCacheError(msg) {
        if (!msg) return false;
        var m = msg.toLowerCase();
        return m.indexOf('text/html') !== -1 && m.indexOf('mime') !== -1 ||
               m.indexOf('loading chunk') !== -1 ||
               m.indexOf('dynamically imported') !== -1 ||
               m.indexOf('failed to fetch') !== -1 && m.indexOf('module') !== -1;
      }
      
      function clearCachesAndReload() {
        if (hasRecovered) return;
        sessionStorage.setItem(recoveryKey, 'true');
        
        var promises = [];
        if ('serviceWorker' in navigator) {
          promises.push(navigator.serviceWorker.getRegistrations().then(function(regs) {
            return Promise.all(regs.map(function(r) { return r.unregister(); }));
          }).catch(function() {}));
        }
        if ('caches' in window) {
          promises.push(caches.keys().then(function(names) {
            return Promise.all(names.map(function(n) { return caches.delete(n); }));
          }).catch(function() {}));
        }
        
        Promise.all(promises).then(function() {
          var url = new URL(window.location.href);
          url.searchParams.set('_r', Date.now());
          window.location.replace(url.toString());
        }).catch(function() {
          window.location.reload();
        });
      }
      
      window.addEventListener('error', function(e) {
        if (e.message && isStaleCacheError(e.message)) {
          e.preventDefault();
          clearCachesAndReload();
        }
      });
      
      window.addEventListener('unhandledrejection', function(e) {
        var msg = e.reason && (e.reason.message || String(e.reason));
        if (isStaleCacheError(msg)) {
          e.preventDefault();
          clearCachesAndReload();
        }
      });
    })();
    </script>
    
    <!-- Primary Meta Tags -->
    <title>PetSOS - Emergency 24-Hour Veterinary Care in Hong Kong | 香港寵物緊急求助</title>
    <meta name="title" content="PetSOS - Emergency 24-Hour Veterinary Care in Hong Kong | 香港寵物緊急求助" />
    <meta name="description" content="Alert 24-hour animal hospitals in Hong Kong with one tap. GPS-powered emergency pet care coordination with instant WhatsApp broadcast to nearby clinics. Fast help when your pet needs it most. 一按即時通知24小時動物醫院。" />
    <meta name="keywords" content="pet emergency, 24-hour vet Hong Kong, emergency veterinary care, animal hospital, pet SOS, emergency vet Central, emergency vet Tsim Sha Tsui, emergency vet Mong Kok, 寵物緊急, 24小時獸醫, 動物醫院, 緊急求助, 中環獸醫, 尖沙咀獸醫, 旺角獸醫" />
    
    <!-- Performance: DNS prefetch and preconnect for external resources -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png" />
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://petsos.site/" />
    <meta property="og:title" content="PetSOS - Emergency 24-Hour Veterinary Care in Hong Kong" />
    <meta property="og:description" content="Alert 24-hour animal hospitals in Hong Kong with one tap. GPS-powered emergency pet care coordination with instant WhatsApp broadcast to nearby clinics." />
    <meta property="og:image" content="https://petsos.site/og-image.webp" />
    <meta property="og:locale" content="en_HK" />
    <meta property="og:locale:alternate" content="zh_HK" />
    <meta name="facebook-domain-verification" content="f4mi855nhs7wfwq0ftohnttwhror22" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://petsos.site/" />
    <meta property="twitter:title" content="PetSOS - Emergency 24-Hour Veterinary Care in Hong Kong" />
    <meta property="twitter:description" content="Alert 24-hour animal hospitals in Hong Kong with one tap. GPS-powered emergency pet care coordination." />
    <meta property="twitter:image" content="https://petsos.site/og-image.webp" />
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="HK" />
    <meta name="geo.placename" content="Hong Kong" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://petsos.site/" />
    
    <!-- Hreflang Tags for Multilingual SEO -->
    <link rel="alternate" hreflang="en" href="https://petsos.site/" />
    <link rel="alternate" hreflang="zh-HK" href="https://petsos.site/" />
    <link rel="alternate" hreflang="x-default" href="https://petsos.site/" />
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#EF4444" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="PetSOS" />
    <meta name="application-name" content="PetSOS" />
    
    <!-- Fonts: Optimized for performance (font-display: swap) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body class="notranslate">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
