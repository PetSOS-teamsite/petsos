import{c as ne,a as re,a2 as ie,r as A,h as M,g as R,j as e,C as p,b as u,q as g,t as f,ag as le,v as V,F as q,w as r,x as i,y as l,z as t,I as m,A as h,B as k,a3 as te,a5 as oe,E as y,G as v,H as b,J as w,K as d,N as ce,a1 as de,o as Q,s as x,aU as o,aV as he,ad as O,O as xe,Q as K}from"./index-B6B5-wqG.js";import{u as Z}from"./useMutation-DUKQItlV.js";import{T as S}from"./textarea-B8jmdzpK.js";import{S as c}from"./switch-7TT_84Ex.js";import{f as je}from"./dateFormat-B3M36iqg.js";import{L as z}from"./loader-circle-BzrSke9v.js";import{A as me}from"./arrow-left-BpE3PuIj.js";import{B as X}from"./building-2-BRlfl8Dq.js";import{S as pe}from"./stethoscope-Br3VtJzY.js";import{U as ue}from"./users-d7mTDrPY.js";import{I as $}from"./image-CSjOTTx7.js";import{U as ge}from"./upload-DSNnQUDA.js";import{C as fe}from"./circle-x-CX15qlya.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ve=Q({verificationCode:x().length(6,"Verification code must be 6 digits").regex(/^\d+$/,"Must be 6 digits")}),be=Q({nameEn:x().min(1,"Hospital name (English) is required"),nameZh:x().min(1,"Hospital name (Chinese) is required"),addressEn:x().min(1,"Address (English) is required"),addressZh:x().min(1,"Address (Chinese) is required"),phone:x().optional(),whatsapp:x().optional(),email:x().optional(),websiteUrl:x().optional(),regionId:x().min(1,"Region is required"),open247:o().default(!0),parking:o().optional(),wheelchairAccess:o().optional(),isolationWard:o().optional(),ambulanceSupport:o().optional(),eolSupport:o().optional(),whatsappTriage:o().optional(),icuLevel:x().optional(),imagingXray:o().optional(),imagingUS:o().optional(),imagingCT:o().optional(),sameDayCT:o().optional(),inHouseLab:o().optional(),extLabCutoff:x().optional(),bloodBankAccess:x().optional(),sxEmergencySoft:o().optional(),sxEmergencyOrtho:o().optional(),anaesMonitoring:x().optional(),specialistAvail:x().optional(),oxygenTherapy:o().optional(),ventilator:o().optional(),bloodTransfusion:o().optional(),imagingMRI:o().optional(),endoscopy:o().optional(),dialysis:o().optional(),defibrillator:o().optional(),onSiteVet247:o().optional(),nurse24h:o().optional(),triagePolicy:x().optional(),typicalWaitBand:x().optional(),ownerVisitPolicy:x().optional(),recheckWindow:x().optional(),admissionDeposit:o().optional(),depositBand:x().optional(),refundPolicy:x().optional(),photos:he().optional()});function Ie(){const{toast:T}=re(),[_,P]=ie("/hospital/edit/:slug"),[J,G]=A.useState(!1),[Y,B]=A.useState(!1),[L,U]=A.useState(""),N=P==null?void 0:P.slug,{data:a,isLoading:ee}=M({queryKey:["/api/hospitals",N],queryFn:async()=>{if(!N)return null;const s=await fetch(`/api/hospitals/slug/${N}`);return s.ok?s.json():null},enabled:!!N}),{data:D}=M({queryKey:["/api/regions"]}),E=R({resolver:O(ve),defaultValues:{verificationCode:""}}),n=R({resolver:O(be),defaultValues:{nameEn:"",nameZh:"",addressEn:"",addressZh:"",phone:"",whatsapp:"",email:"",websiteUrl:"",regionId:"",open247:!0,parking:!1,wheelchairAccess:!1,isolationWard:!1,ambulanceSupport:!1,eolSupport:!1,whatsappTriage:!1,icuLevel:"",imagingXray:!1,imagingUS:!1,imagingCT:!1,sameDayCT:!1,inHouseLab:!1,extLabCutoff:"",bloodBankAccess:"",sxEmergencySoft:!1,sxEmergencyOrtho:!1,anaesMonitoring:"",specialistAvail:"",oxygenTherapy:!1,ventilator:!1,bloodTransfusion:!1,imagingMRI:!1,endoscopy:!1,dialysis:!1,defibrillator:!1,onSiteVet247:!1,nurse24h:!1,triagePolicy:"",typicalWaitBand:"",ownerVisitPolicy:"",recheckWindow:"",admissionDeposit:!1,depositBand:"",refundPolicy:"",photos:[]}}),C=n.watch("photos"),W=()=>{if(L.trim()){const s=C||[];n.setValue("photos",[...s,L.trim()],{shouldDirty:!0,shouldTouch:!0}),U("")}},se=s=>{const j=C||[];n.setValue("photos",j.filter((F,ae)=>ae!==s),{shouldDirty:!0,shouldTouch:!0})};A.useEffect(()=>{a&&n.reset({nameEn:a.nameEn||"",nameZh:a.nameZh||"",addressEn:a.addressEn||"",addressZh:a.addressZh||"",phone:a.phone||"",whatsapp:a.whatsapp||"",email:a.email||"",websiteUrl:a.websiteUrl||"",regionId:a.regionId||"",open247:a.open247??!0,parking:a.parking??!1,wheelchairAccess:a.wheelchairAccess??!1,isolationWard:a.isolationWard??!1,ambulanceSupport:a.ambulanceSupport??!1,eolSupport:a.eolSupport??!1,whatsappTriage:a.whatsappTriage??!1,icuLevel:a.icuLevel||"",imagingXray:a.imagingXray??!1,imagingUS:a.imagingUS??!1,imagingCT:a.imagingCT??!1,sameDayCT:a.sameDayCT??!1,inHouseLab:a.inHouseLab??!1,extLabCutoff:a.extLabCutoff||"",bloodBankAccess:a.bloodBankAccess||"",sxEmergencySoft:a.sxEmergencySoft??!1,sxEmergencyOrtho:a.sxEmergencyOrtho??!1,anaesMonitoring:a.anaesMonitoring||"",specialistAvail:a.specialistAvail||"",oxygenTherapy:a.oxygenTherapy??!1,ventilator:a.ventilator??!1,bloodTransfusion:a.bloodTransfusion??!1,imagingMRI:a.imagingMRI??!1,endoscopy:a.endoscopy??!1,dialysis:a.dialysis??!1,defibrillator:a.defibrillator??!1,onSiteVet247:a.onSiteVet247??!1,nurse24h:a.nurse24h??!1,triagePolicy:a.triagePolicy||"",typicalWaitBand:a.typicalWaitBand||"",ownerVisitPolicy:a.ownerVisitPolicy||"",recheckWindow:a.recheckWindow||"",admissionDeposit:a.admissionDeposit??!1,depositBand:a.depositBand||"",refundPolicy:a.refundPolicy||"",photos:a.photos||[]})},[a]);const H=Z({mutationFn:async s=>{if(!(a!=null&&a.id))throw new Error("Hospital not found");const j=await fetch(`/api/hospitals/${a.id}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verificationCode:s.verificationCode})});if(!j.ok)throw new Error("Invalid verification code");return j.json()},onSuccess:()=>{G(!0),T({title:"Verified successfully!"})},onError:()=>{T({title:"Invalid verification code",variant:"destructive"})}}),I=Z({mutationFn:async s=>{if(!(a!=null&&a.id))throw new Error("Hospital not found");const j=E.getValues("verificationCode");return xe("PATCH",`/api/hospitals/${a.id}/update-owner`,{...s,verificationCode:j})},onSuccess:()=>{B(!0),T({title:"Hospital information saved successfully!"}),K.invalidateQueries({queryKey:["/api/hospitals",N]}),K.invalidateQueries({queryKey:["/api/hospitals"]}),setTimeout(()=>B(!1),3e3)},onError:s=>{T({title:"Error saving hospital",description:s.message,variant:"destructive"})}});return _?ee?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx(z,{className:"h-8 w-8 animate-spin"})}):a?J?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(te,{href:"/",children:e.jsx(k,{variant:"ghost",size:"icon","data-testid":"button-back",children:e.jsx(me,{className:"h-5 w-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Hospital Information"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update your hospital details"})]})]}),(a==null?void 0:a.updatedAt)&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(oe,{className:"h-4 w-4"}),"Last updated: ",je(a.updatedAt)]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-3xl",children:e.jsx(q,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(s=>I.mutate(s)),className:"space-y-6",children:[e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Basic Information"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:n.control,name:"nameEn",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Hospital Name (English) *"}),e.jsx(t,{children:e.jsx(m,{...s,"data-testid":"input-name-en"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"nameZh",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Hospital Name (Chinese) *"}),e.jsx(t,{children:e.jsx(m,{...s,"data-testid":"input-name-zh"})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:n.control,name:"addressEn",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Address (English) *"}),e.jsx(t,{children:e.jsx(S,{...s,rows:2,"data-testid":"input-address-en"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"addressZh",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Address (Chinese) *"}),e.jsx(t,{children:e.jsx(S,{...s,rows:2,"data-testid":"input-address-zh"})}),e.jsx(h,{})]})})]}),e.jsx(r,{control:n.control,name:"regionId",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Region *"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-region",children:e.jsx(b,{})})}),e.jsx(w,{children:D==null?void 0:D.map(j=>e.jsx(d,{value:j.id,children:j.nameEn},j.id))})]}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"websiteUrl",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Website URL"}),e.jsx(t,{children:e.jsx(m,{...s,value:s.value||"",placeholder:"https://www.example.com","data-testid":"input-website"})}),e.jsx(h,{})]})})]})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Contact Information"]})}),e.jsx(u,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{control:n.control,name:"phone",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Phone"}),e.jsx(t,{children:e.jsx(m,{...s,value:s.value||"","data-testid":"input-phone"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"whatsapp",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"WhatsApp"}),e.jsx(t,{children:e.jsx(m,{...s,value:s.value||"","data-testid":"input-whatsapp"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"email",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Email"}),e.jsx(t,{children:e.jsx(m,{...s,value:s.value||"",type:"email","data-testid":"input-email"})}),e.jsx(h,{})]})})]})})]}),e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Facilities"]}),e.jsx(V,{children:"What facilities does your hospital offer?"})]}),e.jsx(u,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:n.control,name:"parking",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Parking Available"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-parking"})})]})}),e.jsx(r,{control:n.control,name:"wheelchairAccess",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Wheelchair Accessible"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-wheelchair"})})]})}),e.jsx(r,{control:n.control,name:"isolationWard",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Isolation Ward"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-isolation"})})]})}),e.jsx(r,{control:n.control,name:"ambulanceSupport",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Ambulance Support"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-ambulance"})})]})}),e.jsx(r,{control:n.control,name:"eolSupport",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"End-of-Life Support"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-eol"})})]})}),e.jsx(r,{control:n.control,name:"whatsappTriage",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"WhatsApp Triage"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-whatsapp-triage"})})]})})]})})]}),e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Medical Services"]}),e.jsx(V,{children:"What medical services and equipment do you have?"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsx(r,{control:n.control,name:"icuLevel",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"ICU Level"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value||"",children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-icu",children:e.jsx(b,{placeholder:"Select ICU level"})})}),e.jsxs(w,{children:[e.jsx(d,{value:"none",children:"None"}),e.jsx(d,{value:"basic",children:"Basic"}),e.jsx(d,{value:"advanced",children:"Advanced"}),e.jsx(d,{value:"full",children:"Full ICU"})]})]}),e.jsx(h,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:n.control,name:"imagingXray",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"X-Ray"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-xray"})})]})}),e.jsx(r,{control:n.control,name:"imagingUS",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Ultrasound"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-ultrasound"})})]})}),e.jsx(r,{control:n.control,name:"imagingCT",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"CT Scan"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-ct"})})]})}),e.jsx(r,{control:n.control,name:"sameDayCT",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Same-Day CT"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-sameday-ct"})})]})}),e.jsx(r,{control:n.control,name:"inHouseLab",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"In-House Laboratory"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-lab"})})]})}),e.jsx(r,{control:n.control,name:"sxEmergencySoft",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Emergency Soft Tissue Surgery"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-soft-surgery"})})]})}),e.jsx(r,{control:n.control,name:"sxEmergencyOrtho",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Emergency Orthopedic Surgery"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-ortho-surgery"})})]})}),e.jsx(r,{control:n.control,name:"oxygenTherapy",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Oxygen Therapy / Tanks"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-oxygen"})})]})}),e.jsx(r,{control:n.control,name:"ventilator",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Ventilator / Respirator"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-ventilator"})})]})}),e.jsx(r,{control:n.control,name:"bloodTransfusion",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Blood Bank (transfusion support)"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-blood-transfusion"})})]})}),e.jsx(r,{control:n.control,name:"imagingMRI",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"MRI Imaging"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-mri"})})]})}),e.jsx(r,{control:n.control,name:"endoscopy",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Endoscopy"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-endoscopy"})})]})}),e.jsx(r,{control:n.control,name:"dialysis",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Dialysis / Renal Support"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-dialysis"})})]})}),e.jsx(r,{control:n.control,name:"defibrillator",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Defibrillator / AED"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-defibrillator"})})]})})]}),e.jsx(r,{control:n.control,name:"extLabCutoff",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"External Lab Cutoff Time"}),e.jsx(t,{children:e.jsx(m,{...s,value:s.value||"",placeholder:"e.g., 6:00 PM","data-testid":"input-lab-cutoff"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"bloodBankAccess",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Blood Bank Access"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value||"",children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-blood-bank",children:e.jsx(b,{placeholder:"Select blood bank access"})})}),e.jsxs(w,{children:[e.jsx(d,{value:"none",children:"None"}),e.jsx(d,{value:"limited",children:"Limited"}),e.jsx(d,{value:"full",children:"Full Access"})]})]}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"anaesMonitoring",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Anesthesia Monitoring"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value||"",children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-anesthesia",children:e.jsx(b,{placeholder:"Select monitoring level"})})}),e.jsxs(w,{children:[e.jsx(d,{value:"basic",children:"Basic"}),e.jsx(d,{value:"advanced",children:"Advanced"}),e.jsx(d,{value:"full",children:"Full Monitoring"})]})]}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"specialistAvail",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Specialist Availability"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value||"",children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-specialist",children:e.jsx(b,{placeholder:"Select specialist availability"})})}),e.jsxs(w,{children:[e.jsx(d,{value:"none",children:"None"}),e.jsx(d,{value:"on_call",children:"On-Call"}),e.jsx(d,{value:"on_site",children:"On-Site"}),e.jsx(d,{value:"24h",children:"24/7 Available"})]})]}),e.jsx(h,{})]})})]})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Staffing & Operations"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:n.control,name:"open247",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"24-Hour Operation"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!0,onCheckedChange:s.onChange,"data-testid":"switch-24h"})})]})}),e.jsx(r,{control:n.control,name:"onSiteVet247",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"On-Site Vet 24/7"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-vet-247"})})]})}),e.jsx(r,{control:n.control,name:"nurse24h",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"24-Hour Nursing"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-nurse-24h"})})]})})]}),e.jsx(r,{control:n.control,name:"triagePolicy",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Triage Policy"}),e.jsx(t,{children:e.jsx(S,{...s,value:s.value||"",placeholder:"Describe your triage policy...",rows:2,"data-testid":"input-triage"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"typicalWaitBand",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Typical Wait Time"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value||"",children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-wait-time",children:e.jsx(b,{placeholder:"Select typical wait time"})})}),e.jsxs(w,{children:[e.jsx(d,{value:"<15min",children:"<15 minutes"}),e.jsx(d,{value:"15-30min",children:"15-30 minutes"}),e.jsx(d,{value:"30-60min",children:"30-60 minutes"}),e.jsx(d,{value:">60min",children:">60 minutes"})]})]}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"ownerVisitPolicy",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Owner Visiting Policy"}),e.jsx(t,{children:e.jsx(S,{...s,value:s.value||"",placeholder:"Describe your visiting hours and policies...",rows:2,"data-testid":"input-visit-policy"})}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"recheckWindow",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Recheck Window"}),e.jsx(t,{children:e.jsx(m,{...s,value:s.value||"",placeholder:"e.g., Free recheck within 7 days","data-testid":"input-recheck"})}),e.jsx(h,{})]})})]})]}),e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5"}),"Financial Information"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsx(r,{control:n.control,name:"admissionDeposit",render:({field:s})=>e.jsxs(i,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Requires Admission Deposit"})}),e.jsx(t,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange,"data-testid":"switch-deposit"})})]})}),e.jsx(r,{control:n.control,name:"depositBand",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Deposit Range"}),e.jsxs(y,{onValueChange:s.onChange,defaultValue:s.value||"",children:[e.jsx(t,{children:e.jsx(v,{"data-testid":"select-deposit-range",children:e.jsx(b,{placeholder:"Select deposit range"})})}),e.jsxs(w,{children:[e.jsx(d,{value:"<5k",children:"Less than HKD 5,000"}),e.jsx(d,{value:"5k-10k",children:"HKD 5,000 - 10,000"}),e.jsx(d,{value:"10k-20k",children:"HKD 10,000 - 20,000"}),e.jsx(d,{value:">20k",children:"More than HKD 20,000"})]})]}),e.jsx(h,{})]})}),e.jsx(r,{control:n.control,name:"refundPolicy",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Refund Policy"}),e.jsx(t,{children:e.jsx(S,{...s,value:s.value||"",placeholder:"Describe your refund policy...",rows:2,"data-testid":"input-refund"})}),e.jsx(h,{})]})})]})]}),e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Hospital Photos"]}),e.jsx(V,{children:"Add photos of your hospital to help pet owners"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{placeholder:"Enter photo URL (e.g., https://example.com/photo.jpg)",value:L,onChange:s=>U(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),W()),"data-testid":"input-photo-url"}),e.jsxs(k,{type:"button",onClick:W,"data-testid":"button-add-photo",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Add"]})]}),C&&C.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:C.map((s,j)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Hospital photo ${j+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:F=>{F.target.src="/placeholder-image.png"}}),e.jsx(k,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>se(j),"data-testid":`button-remove-photo-${j}`,children:e.jsx(fe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:["Photo ",j+1]})]},j))}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[e.jsx($,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No photos added yet"}),e.jsx("p",{className:"text-sm",children:"Add photo URLs above to display them here"})]})]})]}),e.jsx(k,{type:"submit",disabled:I.isPending,className:"w-full",size:"lg","data-testid":"button-save",children:I.isPending?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):Y?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Saved!"]}):"Save Changes"})]})})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"container mx-auto px-4 py-12 max-w-md",children:e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Verify Access"]}),e.jsx(V,{children:"Enter the 6-digit verification code to edit hospital information"})]}),e.jsx(u,{children:e.jsx(q,{...E,children:e.jsxs("form",{onSubmit:E.handleSubmit(s=>H.mutate(s)),className:"space-y-4",children:[e.jsx(r,{control:E.control,name:"verificationCode",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Verification Code"}),e.jsx(t,{children:e.jsx(m,{...s,type:"text",placeholder:"000000",maxLength:6,className:"text-center text-2xl tracking-widest","data-testid":"input-verification-code"})}),e.jsx(h,{})]})}),e.jsx(k,{type:"submit",className:"w-full",disabled:H.isPending,"data-testid":"button-verify",children:H.isPending?"Verifying...":"Verify"})]})})})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx(p,{children:e.jsxs(u,{className:"py-12 text-center",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Hospital not found"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please check the hospital link and try again."})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Hospital not found"})})}export{Ie as default};
