import{c as Qe,r as N,a as Ie,h as re,g as Ee,j as e,L as _,S as Ye,X as _e,B as v,C as O,v as $,w as q,b as R,_ as Te,I as d,J as te,K as ie,N as ce,O as oe,P as C,al as Xe,d as Ge,M as Je,$ as be,a0 as ve,a1 as ye,a2 as Ne,a3 as Ce,s as Q,F as es,aL as ss,aM as ns,aN as B,b8 as V,z as i,A as l,D as r,E as t,G as h,H as x,y as as,a4 as ls,T as D,U as M,b9 as rs,ah as Ae}from"./index-yGPiJpIr.js";import{u as X}from"./useMutation-g6oReyS0.js";import{u as ts,C as De,U as is}from"./useStorageStatus-CWBDob1J.js";import{A as cs,a as os,b as ds,c as us,d as xs,e as hs,f as ms,g as gs}from"./alert-dialog-CbtaLizn.js";import{T as Y}from"./textarea-B-COFCfx.js";import{S as o}from"./switch-BdZ2xI1R.js";import{B as U}from"./badge-4zSkoC7y.js";import{i as js}from"./schema-DZGTqc0-.js";import{A as ps}from"./arrow-left-BVTF3Tl5.js";import{P as bs}from"./plus-oXMKgXWF.js";import{B as vs}from"./building-2-Bk6ymILd.js";import{S as fe}from"./star-DiU3RdeH.js";import{C as Le}from"./circle-check-D4zmYIzY.js";import{I as we}from"./image-BKIDXmlM.js";import{S as ys}from"./search-DPDD1EGd.js";import{M as Fe}from"./message-circle-DqTg9Vop.js";import{R as Ns}from"./rotate-ccw-bIRm58YJ.js";import{P as Cs}from"./pencil-TrFe8HXS.js";import{T as fs}from"./trash-2-pXZASDYN.js";import{C as ws}from"./copy-DKt1Q6nz.js";import{E as ks}from"./external-link-D9VXaUmr.js";import{C as Ss}from"./circle-x-BIzv2Di1.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Qe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),Es=a=>{const w=a.split(",").map(T=>T.trim()).filter(T=>T);return w.length>0?w:null},Oe=a=>(a||[]).join(", ");function ne({control:a,name:w,label:T,placeholder:g,description:k,testId:L}){const{field:S}=rs({control:a,name:w}),[I,j]=N.useState(Oe(S.value));N.useEffect(()=>{j(Oe(S.value))},[S.value]);const P=F=>{const E=F.target.value;j(E),S.onChange(Es(E))};return e.jsxs(l,{children:[e.jsx(r,{children:T}),e.jsx(t,{children:e.jsx(d,{value:I,onChange:P,placeholder:g,"data-testid":L})}),e.jsx(x,{children:k}),e.jsx(h,{})]})}const Re=js.extend({nameEn:Q().min(1,"Hospital name (English) is required"),nameZh:Q().min(1,"Hospital name (Chinese) is required"),addressEn:Q().min(1,"Address (English) is required"),addressZh:Q().min(1,"Address (Chinese) is required"),regionId:Q().min(1,"Region is required"),slug:Q().min(1,"URL slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase letters, numbers, and hyphens only")});function Me({form:a,onSubmit:w,submitLabel:T,hospitalId:g}){const{toast:k}=Ie(),{isStorageAvailable:L}=ts();re({queryKey:["/api/regions"]});const[S,I]=N.useState(""),[j,P]=N.useState(!1),F=N.useRef(null),E=a.watch("photos"),K=()=>{if(S.trim()){const s=E||[];a.setValue("photos",[...s,S.trim()],{shouldDirty:!0,shouldTouch:!0}),I("")}},ae=s=>{const c=E||[];a.setValue("photos",c.filter((p,A)=>A!==s),{shouldDirty:!0,shouldTouch:!0})},G=X({mutationFn:async s=>{if(!g)throw new Error("Hospital ID required for photo upload");const c=await D("POST",`/api/admin/hospitals/${g}/photo-upload-url`,{contentType:s.type}),{uploadURL:p}=await c.json();if(!(await fetch(p,{method:"PUT",headers:{"Content-Type":s.type},body:s})).ok)throw new Error("Failed to upload photo");const ee=p.split("?")[0];return await(await D("POST",`/api/admin/hospitals/${g}/photo`,{filePath:ee})).json()},onSuccess:s=>{const c=s.photoUrl,p=a.getValues("photos")||[];a.setValue("photos",[...p,c],{shouldDirty:!0,shouldTouch:!0}),M.invalidateQueries({queryKey:["/api/hospitals"]}),k({title:"Photo uploaded successfully!"}),P(!1)},onError:s=>{k({title:"Failed to upload photo",description:s.message,variant:"destructive"}),P(!1)}}),J=X({mutationFn:async s=>{if(!g)throw new Error("Hospital ID required for photo deletion");const c=await fetch(`/api/admin/hospitals/${g}/photo`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({photoUrl:s})});if(!c.ok){const p=await c.json();throw new Error(p.message||"Failed to delete photo")}return{photoUrl:s}},onSuccess:({photoUrl:s})=>{const c=a.getValues("photos")||[];a.setValue("photos",c.filter(p=>p!==s),{shouldDirty:!0,shouldTouch:!0}),M.invalidateQueries({queryKey:["/api/hospitals"]}),k({title:"Photo removed successfully!"})},onError:s=>{k({title:"Failed to remove photo",description:s.message,variant:"destructive"})}}),Z=s=>{var p;const c=(p=s.target.files)==null?void 0:p[0];if(c){if(!c.type.startsWith("image/")){k({title:"Invalid file type",description:"Please select an image file",variant:"destructive"}),s.target.value="";return}if(c.size>5*1024*1024){k({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"}),s.target.value="";return}P(!0),G.mutate(c),s.target.value=""}};return e.jsx(es,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(w),className:"space-y-4",children:[e.jsxs(ss,{defaultValue:"basic",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-7 text-xs",children:[e.jsx(B,{value:"basic",children:"Basic"}),e.jsx(B,{value:"photos",children:"Photos"}),e.jsx(B,{value:"facilities",children:"Facilities"}),e.jsx(B,{value:"medical",children:"Medical"}),e.jsx(B,{value:"operational",children:"Ops"}),e.jsx(B,{value:"deepmedical",children:"Deep Medical"}),e.jsx(B,{value:"policies",children:"Policies"})]}),e.jsxs(V,{value:"basic",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[e.jsx("strong",{children:"Essential Information:"})," Help pet parents contact you quickly during emergencies. Complete this first, then add photos and services to increase visibility."]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"nameEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Hospital Name (English) *"}),e.jsx(t,{children:e.jsx(d,{...s,placeholder:"Central Animal Hospital","data-testid":"input-name-en"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"nameZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Hospital Name (Chinese) *"}),e.jsx(t,{children:e.jsx(d,{...s,placeholder:"中環動物醫院","data-testid":"input-name-zh"})}),e.jsx(h,{})]})})]}),e.jsx(i,{control:a.control,name:"slug",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"URL Slug *"}),e.jsx(t,{children:e.jsx(d,{...s,placeholder:"central-animal-hospital","data-testid":"input-slug"})}),e.jsx(x,{children:"Lowercase letters, numbers, and hyphens only"}),e.jsx(h,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"addressEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Address (English) *"}),e.jsx(t,{children:e.jsx(Y,{...s,placeholder:"123 Queen's Road Central",rows:3,"data-testid":"input-address-en"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"addressZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Address (Chinese) *"}),e.jsx(t,{children:e.jsx(Y,{...s,placeholder:"皇后大道中123號",rows:3,"data-testid":"input-address-zh"})}),e.jsx(h,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:a.control,name:"phone",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Phone *"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"+852 1234 5678","data-testid":"input-phone"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"whatsapp",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"WhatsApp *"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"+852 1234 5678","data-testid":"input-whatsapp"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Email *"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"info@hospital.com",type:"email","data-testid":"input-email"})}),e.jsx(h,{})]})})]})]}),e.jsx(V,{value:"photos",className:"space-y-4",children:e.jsxs(O,{children:[e.jsxs($,{children:[e.jsx(q,{children:"Hospital Photos"}),e.jsx(as,{children:"Add photos of the hospital to help pet owners"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[g&&L&&e.jsxs(e.Fragment,{children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>{var s;return(s=F.current)==null?void 0:s.click()},disabled:j,className:"flex-shrink-0","data-testid":"button-upload-photo",children:j?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Upload from Device"]})}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:F,onChange:Z,disabled:j,"data-testid":"input-file-upload"})]}),e.jsxs("div",{className:"flex gap-2 flex-1",children:[e.jsx(d,{placeholder:g&&L?"Or enter photo URL":"Enter photo URL (e.g., https://example.com/photo.jpg)",value:S,onChange:s=>I(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),K()),"data-testid":"input-photo-url"}),e.jsxs(v,{type:"button",onClick:K,"data-testid":"button-add-photo",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Add URL"]})]})]}),!g&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx(De,{className:"h-4 w-4 inline mr-1"}),"Direct upload will be available after saving the hospital"]}),E&&E.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-4",children:E.map((s,c)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Hospital photo ${c+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:p=>{p.target.src="/placeholder-image.png"}}),e.jsx(v,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>g?J.mutate(s):ae(c),disabled:g?J.isPending:!1,"data-testid":`button-remove-photo-${c}`,children:e.jsx(Ss,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:["Photo ",c+1]})]},c))}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[e.jsx(we,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No photos added yet"}),e.jsx("p",{className:"text-sm",children:g?"Upload from your device or add photo URLs":"Add photo URLs above to display them here"})]})]})]})}),e.jsxs(V,{value:"facilities",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"parking",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Parking Available"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"wheelchairAccess",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Wheelchair Accessible"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"isolationWard",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Isolation Ward"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"ambulanceSupport",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Ambulance Support"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"eolSupport",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"End-of-Life Support"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"whatsappTriage",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"WhatsApp Triage"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx(i,{control:a.control,name:"icuLevel",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"ICU Level"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., Level 2 ICU"})}),e.jsx(h,{})]})})]}),e.jsxs(V,{value:"medical",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Optional:"})," Help pet parents find you during emergencies by listing your medical services and capabilities."]})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Imaging Services"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"imagingXray",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"X-Ray"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"imagingUS",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Ultrasound"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"imagingCT",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"CT Scan"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"sameDayCT",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Same-Day CT"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Laboratory & Testing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"inHouseLab",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"In-House Laboratory"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"extLabCutoff",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"External Lab Cutoff Time"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 6:00 PM"})})]})})]}),e.jsx(i,{control:a.control,name:"bloodBankAccess",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Blood Bank Access"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., On-site blood bank"})}),e.jsx(h,{})]})}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Surgery Capabilities"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"sxEmergencySoft",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Emergency Soft Tissue Surgery"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"sxEmergencyOrtho",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Emergency Orthopedic Surgery"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Life Support Equipment"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"oxygenTherapy",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Oxygen Therapy / Tanks"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"ventilator",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Ventilator / Respirator"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"bloodTransfusion",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Blood Bank (transfusion support)"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"imagingMRI",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"MRI Imaging"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"endoscopy",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Endoscopy"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"dialysis",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Dialysis / Renal Support"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"defibrillator",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Defibrillator / AED"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx(i,{control:a.control,name:"anaesMonitoring",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Anesthesia Monitoring"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., Advanced monitoring equipment"})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"specialistAvail",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Specialist Availability"}),e.jsx(t,{children:e.jsx(Y,{...s,value:s.value||"",placeholder:"List available specialists",rows:3})}),e.jsx(h,{})]})})]}),e.jsxs(V,{value:"operational",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Optional:"})," Share operational details like visiting hours, facilities, and support options to build trust with pet owners."]})}),e.jsx(i,{control:a.control,name:"onSiteVet247",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"On-Site Vet 24/7"}),e.jsx(x,{children:"Is a veterinarian on-site 24 hours?"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"nurse24h",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"24-Hour Nursing"}),e.jsx(x,{children:"Are nurses available 24 hours?"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"triagePolicy",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Triage Policy"}),e.jsx(t,{children:e.jsx(Y,{...s,value:s.value||"",placeholder:"Describe triage process",rows:3})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"typicalWaitBand",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Typical Wait Time"}),e.jsxs(te,{onValueChange:s.onChange,value:s.value||"",children:[e.jsx(t,{children:e.jsx(ie,{children:e.jsx(ce,{placeholder:"Select wait time"})})}),e.jsxs(oe,{children:[e.jsx(C,{value:"<30min",children:"< 30 minutes"}),e.jsx(C,{value:"30-60min",children:"30-60 minutes"}),e.jsx(C,{value:"1-2hr",children:"1-2 hours"}),e.jsx(C,{value:">2hr",children:"> 2 hours"})]})]}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"ownerVisitPolicy",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Owner Visiting Policy"}),e.jsx(t,{children:e.jsx(Y,{...s,value:s.value||"",placeholder:"Describe visiting hours and policies",rows:3})}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"recheckWindow",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Recheck Window"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 48 hours"})}),e.jsx(h,{})]})}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Client Support"}),e.jsx(ne,{control:a.control,name:"languages",label:"Languages Spoken",placeholder:"e.g., English, Cantonese, Mandarin, Japanese",description:"Comma-separated list of languages spoken by staff",testId:"input-languages"}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Payment & Insurance"}),e.jsx(i,{control:a.control,name:"admissionDeposit",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Requires Admission Deposit"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"depositBand",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Deposit Range"}),e.jsxs(te,{onValueChange:s.onChange,value:s.value||"",children:[e.jsx(t,{children:e.jsx(ie,{children:e.jsx(ce,{placeholder:"Select deposit range"})})}),e.jsxs(oe,{children:[e.jsx(C,{value:"<5k",children:"< HK$5,000"}),e.jsx(C,{value:"5-10k",children:"HK$5,000 - 10,000"}),e.jsx(C,{value:"10-20k",children:"HK$10,000 - 20,000"}),e.jsx(C,{value:">20k",children:"> HK$20,000"})]})]}),e.jsx(h,{})]})}),e.jsx(i,{control:a.control,name:"refundPolicy",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Refund Policy"}),e.jsx(t,{children:e.jsx(Y,{...s,value:s.value||"",placeholder:"Describe refund policy",rows:3})}),e.jsx(h,{})]})}),e.jsx(ne,{control:a.control,name:"payMethods",label:"Payment Methods Accepted",placeholder:"e.g., Cash, Credit Card, PayMe, FPS, Octopus",description:"Comma-separated list of accepted payment methods",testId:"input-pay-methods"}),e.jsx(ne,{control:a.control,name:"insuranceSupport",label:"Insurance Providers Supported",placeholder:"e.g., Blue Cross, OneDegree, Petclaim, Pawpular",description:"Comma-separated list of insurance providers supported",testId:"input-insurance-support"})]}),e.jsxs(V,{value:"deepmedical",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-purple-800 dark:text-purple-300",children:[e.jsx("strong",{children:"Advanced Data:"})," Detailed medical capabilities for search matching and emergency triage."]})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Blood Bank Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"bloodBankCanine",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Canine Blood Stock"}),e.jsx(x,{children:"On-site canine blood available"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"bloodBankFeline",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Feline Blood Stock"}),e.jsx(x,{children:"On-site feline blood available"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx(ne,{control:a.control,name:"bloodTypesAvailable",label:"Blood Types Available",placeholder:"e.g., DEA 1.1+, DEA 1.1-, Type A, Type B",description:"Comma-separated list of blood types in stock",testId:"input-blood-types"}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"ICU/Oxygen Capacity"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"oxygenCageCount",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Oxygen Cages"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 5","data-testid":"input-oxygen-cages"})}),e.jsx(x,{children:"Number of oxygen cages"})]})}),e.jsx(i,{control:a.control,name:"icuBedCount",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"ICU Beds"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 10","data-testid":"input-icu-beds"})}),e.jsx(x,{children:"Number of ICU beds"})]})}),e.jsx(i,{control:a.control,name:"icuNurseCount",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"ICU Nurses"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 3","data-testid":"input-icu-nurses"})}),e.jsx(x,{children:"ICU-specific nurse count"})]})}),e.jsx(i,{control:a.control,name:"overnightVetNurseRatio",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Overnight Vet:Nurse Ratio"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 1:3","data-testid":"input-vet-nurse-ratio"})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Exotic Species Support"}),e.jsx(i,{control:a.control,name:"exoticVet247",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Exotic Vet 24/7"}),e.jsx(x,{children:"Specialized exotic vet on-site around the clock"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(ne,{control:a.control,name:"exoticSpecies247",label:"Exotic Species Seen 24/7",placeholder:"e.g., rabbit, bird, reptile, small_mammal",description:"Comma-separated list of exotic species treated 24/7",testId:"input-exotic-species"}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Advanced Imaging Details"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:a.control,name:"imagingTech247",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Imaging Tech 24/7"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"ctScanOnSite",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"CT On-Site"}),e.jsx(x,{children:"vs. mobile/referral"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"mriOnSite",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"MRI On-Site"}),e.jsx(x,{children:"vs. referral"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Toxin/Antidote Readiness"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"antivenomStock",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Snake Antivenom"}),e.jsx(x,{children:"Antivenom in stock"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"ratPoisonAntidote",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Rat Poison Antidote"}),e.jsx(x,{children:"Vitamin K available"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"gastricLavageKit",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Gastric Lavage Kit"}),e.jsx(x,{children:"Stomach pump equipment"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"activatedCharcoal",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Activated Charcoal"}),e.jsx(x,{children:"For poisoning treatment"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Surgical Readiness"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"surgeon247",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Surgeon Availability 24/7"}),e.jsxs(te,{onValueChange:s.onChange,value:s.value||"",children:[e.jsx(t,{children:e.jsx(ie,{"data-testid":"select-surgeon-247",children:e.jsx(ce,{placeholder:"Select availability"})})}),e.jsxs(oe,{children:[e.jsx(C,{value:"on_site",children:"On-Site"}),e.jsx(C,{value:"on_call",children:"On-Call"}),e.jsx(C,{value:"referral_only",children:"Referral Only"})]})]})]})}),e.jsx(i,{control:a.control,name:"surgeonCalloutTime",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Surgeon Callout Time"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 30 mins","data-testid":"input-surgeon-callout"})}),e.jsx(x,{children:"Time for on-call surgeon to arrive"})]})})]})]}),e.jsxs(V,{value:"policies",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[e.jsx("strong",{children:"Emergency Policies:"})," Fee structure, visitor info, and extreme weather operating policies."]})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Emergency Fee Structure"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:a.control,name:"consultFeeDay",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Daytime Consult Fee ($)"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 500","data-testid":"input-fee-day"})})]})}),e.jsx(i,{control:a.control,name:"consultFeeEvening",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Evening Consult Fee ($)"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 800","data-testid":"input-fee-evening"})})]})}),e.jsx(i,{control:a.control,name:"consultFeeMidnight",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Midnight Consult Fee ($)"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 1200","data-testid":"input-fee-midnight"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:a.control,name:"eveningSurchargeStart",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Evening Surcharge Start"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 18:00","data-testid":"input-evening-start"})})]})}),e.jsx(i,{control:a.control,name:"midnightSurchargeStart",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Midnight Surcharge Start"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 00:00","data-testid":"input-midnight-start"})})]})}),e.jsx(i,{control:a.control,name:"holidaySurchargePercent",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Holiday Surcharge (%)"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 50","data-testid":"input-holiday-surcharge"})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"In-Patient Quality"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"cctvMonitoring",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"CCTV Monitoring"}),e.jsx(x,{children:"Remote viewing for owners"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"visitationHours",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Visitation Hours"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 10:00-20:00 or 24h","data-testid":"input-visitation-hours"})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Panic Logistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:a.control,name:"emergencyEntranceEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Emergency Entrance (English)"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., Side door on Smith St","data-testid":"input-emergency-entrance-en"})})]})}),e.jsx(i,{control:a.control,name:"emergencyEntranceZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Emergency Entrance (Chinese)"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 史密斯街側門","data-testid":"input-emergency-entrance-zh"})})]})}),e.jsx(i,{control:a.control,name:"parkingDetailsEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Parking Details (English)"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., Free 30-min parking at ABC Lot","data-testid":"input-parking-en"})})]})}),e.jsx(i,{control:a.control,name:"parkingDetailsZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Parking Details (Chinese)"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., ABC停車場免費30分鐘","data-testid":"input-parking-zh"})})]})}),e.jsx(i,{control:a.control,name:"taxiDropoffEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Taxi Dropoff (English)"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., Ask for Happy Valley entrance","data-testid":"input-taxi-en"})})]})}),e.jsx(i,{control:a.control,name:"taxiDropoffZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"Taxi Dropoff (Chinese)"}),e.jsx(t,{children:e.jsx(d,{...s,value:s.value||"",placeholder:"e.g., 請的士司機往跑馬地入口","data-testid":"input-taxi-zh"})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Typhoon/Holiday Policies"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:a.control,name:"openT8",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Open T8"}),e.jsx(x,{children:"Typhoon Signal 8"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"openT10",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Open T10"}),e.jsx(x,{children:"Typhoon Signal 10"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"openBlackRainstorm",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"Open Black Rain"}),e.jsx(x,{children:"Black Rainstorm"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:a.control,name:"lunarNewYearOpen",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(r,{className:"text-base",children:"LNY Open"}),e.jsx(x,{children:"Lunar New Year"})]}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:a.control,name:"lunarNewYearSurcharge",render:({field:s})=>e.jsxs(l,{children:[e.jsx(r,{children:"LNY Surcharge (%)"}),e.jsx(t,{children:e.jsx(d,{type:"number",...s,value:s.value??"",onChange:c=>s.onChange(c.target.value?parseInt(c.target.value):null),placeholder:"e.g., 50","data-testid":"input-lny-surcharge"})})]})}),e.jsx(i,{control:a.control,name:"christmasOpen",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(r,{className:"text-base",children:"Christmas Open"})}),e.jsx(t,{children:e.jsx(o,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]})]})]}),e.jsx(ls,{children:e.jsx(v,{type:"submit","data-testid":"button-submit",children:T})})]})})}function Xs(){const[a,w]=N.useState(!1),[T,g]=N.useState(!1),[k,L]=N.useState(!1),[S,I]=N.useState(!1),[j,P]=N.useState(null),[F,E]=N.useState(null),[K,ae]=N.useState(null),[G,J]=N.useState(null),[Z,s]=N.useState(""),[c,p]=N.useState("all"),[A,ee]=N.useState(1),le=20,{toast:y}=Ie(),{data:z,isLoading:He}=re({queryKey:["/api/regions"]}),{data:m,isLoading:Be}=re({queryKey:["/api/hospitals"]}),{data:de}=re({queryKey:["/api/admin/hospital-ping-states"]}),ke=n=>de==null?void 0:de.find(u=>u.hospitalId===n),ue=X({mutationFn:async({hospitalId:n,pingEnabled:u})=>{await D("PATCH",`/api/hospitals/${n}/ping-settings`,{pingEnabled:u})},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/admin/hospital-ping-states"]}),y({title:"Ping settings updated"})},onError:n=>{y({title:"Error updating ping settings",description:n.message,variant:"destructive"})}}),xe=X({mutationFn:async n=>{await D("POST",`/api/hospitals/${n}/reset-ping-status`,{})},onSuccess:()=>{M.invalidateQueries({queryKey:["/api/admin/hospital-ping-states"]}),y({title:"Ping status reset to active"})},onError:n=>{y({title:"Error resetting ping status",description:n.message,variant:"destructive"})}}),W={total:(m==null?void 0:m.length)??0,verified:((m==null?void 0:m.filter(n=>n.lastVerifiedAt))??[]).length,open247:((m==null?void 0:m.filter(n=>n.open247))??[]).length,withPhotos:((m==null?void 0:m.filter(n=>n.photos&&n.photos.length>0))??[]).length,partners:((m==null?void 0:m.filter(n=>n.isPartner))??[]).length},he=(m==null?void 0:m.filter(n=>{if(Z){const u=Z.toLowerCase(),f=n.nameEn.toLowerCase().includes(u)||n.nameZh.toLowerCase().includes(u),b=n.addressEn.toLowerCase().includes(u)||n.addressZh.toLowerCase().includes(u);if(!f&&!b)return!1}return!(c!=="all"&&n.regionId!==c)}))??[],se=Math.ceil(he.length/le),Se=he.slice((A-1)*le,A*le),Ve=()=>{s(""),p("all"),ee(1)},me=Ee({resolver:Ae(Re),defaultValues:{nameEn:"",nameZh:"",addressEn:"",addressZh:"",slug:"",regionId:"",phone:null,whatsapp:null,email:null,websiteUrl:null,open247:!0,isAvailable:!0,isPartner:!1,latitude:null,longitude:null,photos:[],liveStatus:null,onSiteVet247:null,triagePolicy:null,typicalWaitBand:null,isolationWard:null,ambulanceSupport:null,icuLevel:null,nurse24h:null,ownerVisitPolicy:null,eolSupport:null,imagingXray:null,imagingUS:null,imagingCT:null,sameDayCT:null,inHouseLab:null,extLabCutoff:null,bloodBankAccess:null,sxEmergencySoft:null,sxEmergencyOrtho:null,anaesMonitoring:null,specialistAvail:null,oxygenTherapy:null,ventilator:null,bloodTransfusion:null,imagingMRI:null,endoscopy:null,dialysis:null,defibrillator:null,whatsappTriage:null,parking:null,wheelchairAccess:null,admissionDeposit:null,depositBand:null,recheckWindow:null,refundPolicy:null,speciesAccepted:null,languages:null,payMethods:null,insuranceSupport:null,bloodBankCanine:null,bloodBankFeline:null,bloodTypesAvailable:null,consultFeeDay:null,consultFeeEvening:null,consultFeeMidnight:null,eveningSurchargeStart:null,midnightSurchargeStart:null,holidaySurchargePercent:null,oxygenCageCount:null,icuBedCount:null,icuNurseCount:null,overnightVetNurseRatio:null,exoticVet247:null,exoticSpecies247:null,imagingTech247:null,ctScanOnSite:null,mriOnSite:null,antivenomStock:null,ratPoisonAntidote:null,gastricLavageKit:null,activatedCharcoal:null,surgeon247:null,surgeonCalloutTime:null,cctvMonitoring:null,visitationHours:null,emergencyEntranceEn:null,emergencyEntranceZh:null,parkingDetailsEn:null,parkingDetailsZh:null,taxiDropoffEn:null,taxiDropoffZh:null,openT8:null,openT10:null,openBlackRainstorm:null,lunarNewYearOpen:null,lunarNewYearSurcharge:null,christmasOpen:null}}),Pe=Ee({resolver:Ae(Re)}),Ue=()=>{me.reset(),w(!0)},$e=n=>{P(n),Pe.reset({nameEn:n.nameEn,nameZh:n.nameZh,addressEn:n.addressEn,addressZh:n.addressZh,slug:n.slug,regionId:n.regionId,phone:n.phone||null,whatsapp:n.whatsapp||null,email:n.email||null,websiteUrl:n.websiteUrl||null,open247:n.open247,isAvailable:n.isAvailable,isPartner:n.isPartner,latitude:n.latitude?String(n.latitude):null,longitude:n.longitude?String(n.longitude):null,photos:n.photos||[],liveStatus:n.liveStatus??null,onSiteVet247:n.onSiteVet247??null,triagePolicy:n.triagePolicy??null,typicalWaitBand:n.typicalWaitBand??null,isolationWard:n.isolationWard??null,ambulanceSupport:n.ambulanceSupport??null,icuLevel:n.icuLevel??null,nurse24h:n.nurse24h??null,ownerVisitPolicy:n.ownerVisitPolicy??null,eolSupport:n.eolSupport??null,imagingXray:n.imagingXray??null,imagingUS:n.imagingUS??null,imagingCT:n.imagingCT??null,sameDayCT:n.sameDayCT??null,inHouseLab:n.inHouseLab??null,extLabCutoff:n.extLabCutoff??null,bloodBankAccess:n.bloodBankAccess??null,sxEmergencySoft:n.sxEmergencySoft??null,sxEmergencyOrtho:n.sxEmergencyOrtho??null,anaesMonitoring:n.anaesMonitoring??null,specialistAvail:n.specialistAvail??null,oxygenTherapy:n.oxygenTherapy??null,ventilator:n.ventilator??null,bloodTransfusion:n.bloodTransfusion??null,imagingMRI:n.imagingMRI??null,endoscopy:n.endoscopy??null,dialysis:n.dialysis??null,defibrillator:n.defibrillator??null,whatsappTriage:n.whatsappTriage??null,parking:n.parking??null,wheelchairAccess:n.wheelchairAccess??null,admissionDeposit:n.admissionDeposit??null,depositBand:n.depositBand??null,recheckWindow:n.recheckWindow??null,refundPolicy:n.refundPolicy??null,speciesAccepted:n.speciesAccepted??null,languages:n.languages??null,payMethods:n.payMethods??null,insuranceSupport:n.insuranceSupport??null,bloodBankCanine:n.bloodBankCanine??null,bloodBankFeline:n.bloodBankFeline??null,bloodTypesAvailable:n.bloodTypesAvailable??null,consultFeeDay:n.consultFeeDay??null,consultFeeEvening:n.consultFeeEvening??null,consultFeeMidnight:n.consultFeeMidnight??null,eveningSurchargeStart:n.eveningSurchargeStart??null,midnightSurchargeStart:n.midnightSurchargeStart??null,holidaySurchargePercent:n.holidaySurchargePercent??null,oxygenCageCount:n.oxygenCageCount??null,icuBedCount:n.icuBedCount??null,icuNurseCount:n.icuNurseCount??null,overnightVetNurseRatio:n.overnightVetNurseRatio??null,exoticVet247:n.exoticVet247??null,exoticSpecies247:n.exoticSpecies247??null,imagingTech247:n.imagingTech247??null,ctScanOnSite:n.ctScanOnSite??null,mriOnSite:n.mriOnSite??null,antivenomStock:n.antivenomStock??null,ratPoisonAntidote:n.ratPoisonAntidote??null,gastricLavageKit:n.gastricLavageKit??null,activatedCharcoal:n.activatedCharcoal??null,surgeon247:n.surgeon247??null,surgeonCalloutTime:n.surgeonCalloutTime??null,cctvMonitoring:n.cctvMonitoring??null,visitationHours:n.visitationHours??null,emergencyEntranceEn:n.emergencyEntranceEn??null,emergencyEntranceZh:n.emergencyEntranceZh??null,parkingDetailsEn:n.parkingDetailsEn??null,parkingDetailsZh:n.parkingDetailsZh??null,taxiDropoffEn:n.taxiDropoffEn??null,taxiDropoffZh:n.taxiDropoffZh??null,openT8:n.openT8??null,openT10:n.openT10??null,openBlackRainstorm:n.openBlackRainstorm??null,lunarNewYearOpen:n.lunarNewYearOpen??null,lunarNewYearSurcharge:n.lunarNewYearSurcharge??null,christmasOpen:n.christmasOpen??null}),g(!0)},qe=n=>{P(n),L(!0)},Ke=async n=>{try{await D("POST","/api/hospitals",n),await M.invalidateQueries({queryKey:["/api/hospitals"]}),w(!1),me.reset(),y({title:"Success",description:"Hospital added successfully"})}catch(u){y({title:"Error",description:u.message||"Failed to add hospital",variant:"destructive"})}},Ze=async n=>{if(j)try{await D("PATCH",`/api/hospitals/${j.id}`,n),await M.invalidateQueries({queryKey:["/api/hospitals"]}),g(!1),P(null),y({title:"Success",description:"Hospital updated successfully"})}catch(u){y({title:"Error",description:u.message||"Failed to update hospital",variant:"destructive"})}},ze=async()=>{if(j)try{await D("DELETE",`/api/hospitals/${j.id}`),await M.invalidateQueries({queryKey:["/api/hospitals"]}),L(!1),P(null),y({title:"Success",description:"Hospital deleted successfully"})}catch(n){y({title:"Error",description:n.message||"Failed to delete hospital",variant:"destructive"})}},ge=X({mutationFn:async n=>{const f=await(await D("POST",`/api/hospitals/${n}/generate-code`,{})).json();return{code:f.code,expiresAt:f.expiresAt}},onSuccess:n=>{ae(n.code),J(n.expiresAt),I(!0),y({title:"Code generated successfully"})},onError:n=>{y({title:"Error generating code",description:n.message,variant:"destructive"})}}),je=X({mutationFn:async({hospitalId:n,isPartner:u})=>{await D("PATCH",`/api/hospitals/${n}`,{isPartner:u})},onSuccess:(n,u)=>{M.invalidateQueries({queryKey:["/api/hospitals"]}),y({title:u.isPartner?"Partner Added":"Partner Removed",description:u.isPartner?"Hospital is now a PetSOS Partner":"Hospital is no longer a PetSOS Partner"})},onError:n=>{y({title:"Error updating partner status",description:n.message,variant:"destructive"})}});return Be||He?e.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})})}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{noindex:!0}),e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx(_e,{href:"/admin",children:e.jsxs(v,{variant:"ghost",size:"sm","data-testid":"button-back",children:[e.jsx(ps,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),e.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-admin-hospitals",children:"Admin: Hospital Management"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage 24-hour animal hospital profiles with photos and facilities"})]}),e.jsxs(v,{onClick:Ue,"data-testid":"button-add-hospital",children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"Add Hospital"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs(O,{children:[e.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(q,{className:"text-sm font-medium",children:"Total Hospitals"}),e.jsx(vs,{className:"h-4 w-4 text-blue-500"})]}),e.jsx(R,{children:e.jsx("div",{className:"text-2xl font-bold",children:W.total})})]}),e.jsxs(O,{children:[e.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(q,{className:"text-sm font-medium",children:"Open 24/7"}),e.jsx(Te,{className:"h-4 w-4 text-green-500"})]}),e.jsx(R,{children:e.jsx("div",{className:"text-2xl font-bold",children:W.open247})})]}),e.jsxs(O,{children:[e.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(q,{className:"text-sm font-medium",children:"Partners"}),e.jsx(fe,{className:"h-4 w-4 text-amber-500"})]}),e.jsx(R,{children:e.jsx("div",{className:"text-2xl font-bold",children:W.partners})})]}),e.jsxs(O,{children:[e.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(q,{className:"text-sm font-medium",children:"Verified"}),e.jsx(Le,{className:"h-4 w-4 text-emerald-500"})]}),e.jsx(R,{children:e.jsx("div",{className:"text-2xl font-bold",children:W.verified})})]}),e.jsxs(O,{children:[e.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(q,{className:"text-sm font-medium",children:"With Photos"}),e.jsx(we,{className:"h-4 w-4 text-purple-500"})]}),e.jsx(R,{children:e.jsx("div",{className:"text-2xl font-bold",children:W.withPhotos})})]})]}),e.jsx(O,{className:"mb-6",children:e.jsxs(R,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(d,{placeholder:"Search by name or address...",value:Z,onChange:n=>s(n.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs(te,{value:c,onValueChange:p,children:[e.jsx(ie,{className:"w-full md:w-48",children:e.jsx(ce,{placeholder:"All Regions"})}),e.jsxs(oe,{children:[e.jsx(C,{value:"all",children:"All Regions"}),z==null?void 0:z.map(n=>e.jsx(C,{value:n.id,children:n.nameEn},n.id))]})]}),(Z||c!=="all")&&e.jsxs(v,{variant:"outline",onClick:Ve,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Clear"]})]}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",he.length," of ",W.total," hospitals"]})]})}),e.jsxs(O,{children:[e.jsxs($,{children:[e.jsx(q,{children:"Hospitals"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",A," of ",se||1]})]}),e.jsxs(R,{children:[e.jsxs("div",{className:"space-y-4",children:[Se.map(n=>{const u=z==null?void 0:z.find(b=>b.id===n.regionId),f=n.photos;return e.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors","data-testid":`hospital-card-${n.id}`,children:e.jsxs("div",{className:"flex gap-4",children:[f&&f.length>0&&e.jsx("img",{src:f[0],alt:n.nameEn,className:"w-24 h-24 object-cover rounded-lg flex-shrink-0",onError:b=>{b.target.style.display="none"}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx("h3",{className:"text-lg font-semibold",children:n.nameEn}),e.jsx(U,{variant:"outline",children:(u==null?void 0:u.code)||"N/A"}),n.open247&&e.jsx(U,{variant:"default",className:"bg-green-600",children:"24hrs"}),n.isPartner&&e.jsxs(U,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Partner"]}),n.lastVerifiedAt&&e.jsxs(U,{variant:"secondary",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),"Verified"]}),f&&f.length>0&&e.jsxs(U,{variant:"outline",children:[e.jsx(we,{className:"h-3 w-3 mr-1"}),f.length," ",f.length===1?"photo":"photos"]}),(()=>{const b=ke(n.id);if(!b)return null;if(b.pingStatus==="no_reply")return e.jsxs(U,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-300",children:[e.jsx(Ge,{className:"h-3 w-3 mr-1"}),"No Reply"]});if(b.lastInboundReplyAt){const H=new Date(b.lastInboundReplyAt),pe=Math.floor((Date.now()-H.getTime())/(60*60*1e3)),We=Math.floor(pe/24);return e.jsxs(U,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),pe<24?`${pe}h ago`:`${We}d ago`]})}return null})()]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n.nameZh}),e.jsx("p",{className:"text-sm mb-1",children:n.addressEn}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mt-2",children:[n.phone&&e.jsxs("span",{className:"text-muted-foreground",children:["📞 ",n.phone]}),n.latitude&&n.longitude&&e.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),Number(n.latitude).toFixed(4),", ",Number(n.longitude).toFixed(4)]})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(()=>{const b=ke(n.id),H=(b==null?void 0:b.pingEnabled)!==!1;return e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:H?"default":"outline",size:"sm",onClick:()=>ue.mutate({hospitalId:n.id,pingEnabled:!H}),"data-testid":`button-toggle-ping-${n.id}`,title:H?"Disable Daily Pings":"Enable Daily Pings",disabled:ue.isPending,className:H?"bg-blue-600 hover:bg-blue-700":"",children:ue.isPending?e.jsx(_,{className:"h-4 w-4 animate-spin"}):e.jsx(Fe,{className:`h-4 w-4 ${H?"fill-current":""}`})}),(b==null?void 0:b.pingStatus)==="no_reply"&&e.jsx(v,{variant:"outline",size:"sm",onClick:()=>xe.mutate(n.id),"data-testid":`button-reset-ping-${n.id}`,title:"Reset No-Reply Status",disabled:xe.isPending,children:xe.isPending?e.jsx(_,{className:"h-4 w-4 animate-spin"}):e.jsx(Ns,{className:"h-4 w-4 text-orange-500"})})]})})(),e.jsx(v,{variant:n.isPartner?"default":"outline",size:"sm",onClick:()=>je.mutate({hospitalId:n.id,isPartner:!n.isPartner}),"data-testid":`button-toggle-partner-${n.id}`,title:n.isPartner?"Remove as Partner":"Make Partner",disabled:je.isPending,className:n.isPartner?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":"",children:je.isPending?e.jsx(_,{className:"h-4 w-4 animate-spin"}):e.jsx(fe,{className:`h-4 w-4 ${n.isPartner?"fill-current":""}`})}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>{E(n),ae(null),ge.mutate(n.id)},"data-testid":`button-generate-code-${n.id}`,title:n.slug?"Generate Access Code":"Add URL slug first to enable access codes",disabled:ge.isPending||!n.slug,children:ge.isPending?e.jsx(_,{className:"h-4 w-4 animate-spin"}):e.jsx(Ps,{className:"h-4 w-4"})}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>$e(n),"data-testid":`button-edit-${n.id}`,children:e.jsx(Cs,{className:"h-4 w-4"})}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>qe(n),"data-testid":`button-delete-${n.id}`,children:e.jsx(fs,{className:"h-4 w-4 text-destructive"})})]})]})},n.id)}),Se.length===0&&e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No hospitals found"})]}),se>1&&e.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>ee(n=>Math.max(1,n-1)),disabled:A===1,children:"Previous"}),e.jsxs("span",{className:"flex items-center px-4 text-sm text-muted-foreground",children:["Page ",A," of ",se]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>ee(n=>Math.min(se,n+1)),disabled:A===se,children:"Next"})]})]})]}),e.jsx(be,{open:a,onOpenChange:w,children:e.jsxs(ve,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ye,{children:[e.jsx(Ne,{children:"Add New Hospital"}),e.jsx(Ce,{children:"Enter the hospital details including photos and facilities"})]}),e.jsx(Me,{form:me,onSubmit:Ke,submitLabel:"Add Hospital"})]})}),e.jsx(be,{open:T,onOpenChange:g,children:e.jsxs(ve,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ye,{children:[e.jsx(Ne,{children:"Edit Hospital"}),e.jsx(Ce,{children:"Update the hospital details"})]}),e.jsx(Me,{form:Pe,onSubmit:Ze,submitLabel:"Save Changes",hospitalId:j==null?void 0:j.id})]})}),e.jsx(cs,{open:k,onOpenChange:L,children:e.jsxs(os,{children:[e.jsxs(ds,{children:[e.jsx(us,{children:"Are you absolutely sure?"}),e.jsxs(xs,{children:["This will permanently delete ",e.jsx("strong",{children:j==null?void 0:j.nameEn}),". This action cannot be undone."]})]}),e.jsxs(hs,{children:[e.jsx(ms,{children:"Cancel"}),e.jsx(gs,{onClick:ze,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Delete"})]})]})}),e.jsx(be,{open:S,onOpenChange:n=>{I(n),n||J(null)},children:e.jsxs(ve,{className:"max-w-md",children:[e.jsxs(ye,{children:[e.jsx(Ne,{children:"Generated Code"}),e.jsx(Ce,{children:"Share this code with the hospital owner to access their edit link"})]}),K&&F&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Access Code:"}),e.jsx("p",{className:"text-3xl font-mono font-bold text-red-600 dark:text-red-400 tracking-widest",children:K}),G&&e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-3","data-testid":"text-code-expiry",children:[e.jsx(Te,{className:"inline h-3 w-3 mr-1"}),"Expires: ",new Date(G).toLocaleDateString()," (",new Date(G).toLocaleTimeString(),")"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Edit Link:"}),e.jsx("p",{className:"text-sm font-mono break-all text-blue-600 dark:text-blue-400",children:`${window.location.origin}/hospital/edit/${F.slug}`})]}),e.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-md",children:e.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:[e.jsx("strong",{children:"Important:"})," This code expires in 48 hours. After expiration, a new code must be generated."]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(K),y({title:"Code copied to clipboard"})},className:"flex-1","data-testid":"button-copy-code",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Copy Code"]}),e.jsxs(v,{variant:"outline",onClick:()=>{const n=`${window.location.origin}/hospital/edit/${F.slug}`;navigator.clipboard.writeText(n),y({title:"Link copied to clipboard"})},className:"flex-1","data-testid":"button-copy-link",children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})]})})]})]})}export{Xs as default};
