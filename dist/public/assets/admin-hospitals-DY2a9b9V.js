import{c as Ve,r as p,a as Te,h as me,g as Ne,j as e,U as Be,B as g,C as D,q as F,t as R,b as L,W as we,I as b,E as je,G as pe,H as ge,J as be,K as C,ai as $e,M as qe,X as ie,Y as oe,_ as ce,$ as de,a0 as xe,s as V,F as We,aI as Ke,aJ as ze,aK as Z,aU as Q,w as i,x as l,y as t,z as r,A as x,D as Y,v as Ze,a1 as Qe,O as M,Q as $,aV as Xe,a3 as Ce}from"./index-Dv-87GdI.js";import{u as se}from"./useMutation-DhbY-5L1.js";import{A as Ge,a as Je,b as _e,c as Ye,d as es,e as ss,f as as,g as ns}from"./alert-dialog-phmvSypz.js";import{T as B}from"./textarea-CXxlry72.js";import{S as c}from"./switch-DNY1qyBa.js";import{B as X}from"./badge-95hAwcnP.js";import{i as ls}from"./schema-CVOjHSf-.js";import{L as ee}from"./loader-circle-B-JBmTN-.js";import{A as ts}from"./arrow-left-BiOU8dRi.js";import{P as rs}from"./plus-Bojph4AO.js";import{B as is}from"./building-2-CsNomjhz.js";import{S as he}from"./star-mYvlAq5y.js";import{C as ke}from"./circle-check-C1_Cff8L.js";import{I as ve}from"./image-DjL1IO7l.js";import{S as os}from"./search-BPoAccfe.js";import{P as cs}from"./pencil-DyDjOeDB.js";import{T as ds}from"./trash-2-DER-1qtk.js";import{C as xs}from"./copy-D0zamOfW.js";import{E as hs}from"./external-link-BOrLSow_.js";import{C as Se,U as us}from"./upload-BYu8Ao3U.js";import{C as ms}from"./circle-x-B1liBFqw.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ve("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),ps=n=>{const N=n.split(",").map(k=>k.trim()).filter(k=>k);return N.length>0?N:null},Pe=n=>(n||[]).join(", ");function ue({control:n,name:N,label:k,placeholder:m,description:w,testId:S}){const{field:P}=Xe({control:n,name:N}),[E,j]=p.useState(Pe(P.value));p.useEffect(()=>{j(Pe(P.value))},[P.value]);const A=y=>{const H=y.target.value;j(H),P.onChange(ps(H))};return e.jsxs(l,{children:[e.jsx(t,{children:k}),e.jsx(r,{children:e.jsx(b,{value:E,onChange:A,placeholder:m,"data-testid":S})}),e.jsx(Y,{children:w}),e.jsx(x,{})]})}const Ae=ls.extend({nameEn:V().min(1,"Hospital name (English) is required"),nameZh:V().min(1,"Hospital name (Chinese) is required"),addressEn:V().min(1,"Address (English) is required"),addressZh:V().min(1,"Address (Chinese) is required"),regionId:V().min(1,"Region is required"),slug:V().min(1,"URL slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase letters, numbers, and hyphens only")});function Ee({form:n,onSubmit:N,submitLabel:k,hospitalId:m}){const{toast:w}=Te();me({queryKey:["/api/regions"]});const[S,P]=p.useState(""),[E,j]=p.useState(!1),A=p.useRef(null),y=n.watch("photos"),H=()=>{if(S.trim()){const s=y||[];n.setValue("photos",[...s,S.trim()],{shouldDirty:!0,shouldTouch:!0}),P("")}},q=s=>{const o=y||[];n.setValue("photos",o.filter((d,W)=>W!==s),{shouldDirty:!0,shouldTouch:!0})},G=se({mutationFn:async s=>{if(!m)throw new Error("Hospital ID required for photo upload");const o=await M("POST",`/api/admin/hospitals/${m}/photo-upload-url`,{}),{uploadURL:d}=await o.json();if(!(await fetch(d,{method:"PUT",headers:{"Content-Type":s.type},body:s})).ok)throw new Error("Failed to upload photo");const T=d.split("?")[0];return await(await M("POST",`/api/admin/hospitals/${m}/photo`,{filePath:T})).json()},onSuccess:s=>{const o=s.photoUrl,d=n.getValues("photos")||[];n.setValue("photos",[...d,o],{shouldDirty:!0,shouldTouch:!0}),$.invalidateQueries({queryKey:["/api/hospitals"]}),w({title:"Photo uploaded successfully!"}),j(!1)},onError:s=>{w({title:"Failed to upload photo",description:s.message,variant:"destructive"}),j(!1)}}),O=se({mutationFn:async s=>{if(!m)throw new Error("Hospital ID required for photo deletion");const o=await fetch(`/api/admin/hospitals/${m}/photo`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({photoUrl:s})});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to delete photo")}return{photoUrl:s}},onSuccess:({photoUrl:s})=>{const o=n.getValues("photos")||[];n.setValue("photos",o.filter(d=>d!==s),{shouldDirty:!0,shouldTouch:!0}),$.invalidateQueries({queryKey:["/api/hospitals"]}),w({title:"Photo removed successfully!"})},onError:s=>{w({title:"Failed to remove photo",description:s.message,variant:"destructive"})}}),J=s=>{var d;const o=(d=s.target.files)==null?void 0:d[0];if(o){if(!o.type.startsWith("image/")){w({title:"Invalid file type",description:"Please select an image file",variant:"destructive"}),s.target.value="";return}if(o.size>5*1024*1024){w({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"}),s.target.value="";return}j(!0),G.mutate(o),s.target.value=""}};return e.jsx(We,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(N),className:"space-y-4",children:[e.jsxs(Ke,{defaultValue:"basic",className:"w-full",children:[e.jsxs(ze,{className:"grid w-full grid-cols-5",children:[e.jsx(Z,{value:"basic",children:"Basic Info"}),e.jsx(Z,{value:"photos",children:"Photos"}),e.jsx(Z,{value:"facilities",children:"Facilities"}),e.jsx(Z,{value:"medical",children:"Medical Services"}),e.jsx(Z,{value:"operational",children:"Operational"})]}),e.jsxs(Q,{value:"basic",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[e.jsx("strong",{children:"Essential Information:"})," Help pet parents contact you quickly during emergencies. Complete this first, then add photos and services to increase visibility."]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"nameEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Hospital Name (English) *"}),e.jsx(r,{children:e.jsx(b,{...s,placeholder:"Central Animal Hospital","data-testid":"input-name-en"})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"nameZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Hospital Name (Chinese) *"}),e.jsx(r,{children:e.jsx(b,{...s,placeholder:"ä¸­ç’°å‹•ç‰©é†«é™¢","data-testid":"input-name-zh"})}),e.jsx(x,{})]})})]}),e.jsx(i,{control:n.control,name:"slug",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"URL Slug *"}),e.jsx(r,{children:e.jsx(b,{...s,placeholder:"central-animal-hospital","data-testid":"input-slug"})}),e.jsx(Y,{children:"Lowercase letters, numbers, and hyphens only"}),e.jsx(x,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"addressEn",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Address (English) *"}),e.jsx(r,{children:e.jsx(B,{...s,placeholder:"123 Queen's Road Central",rows:3,"data-testid":"input-address-en"})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"addressZh",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Address (Chinese) *"}),e.jsx(r,{children:e.jsx(B,{...s,placeholder:"çš‡åŽå¤§é“ä¸­123è™Ÿ",rows:3,"data-testid":"input-address-zh"})}),e.jsx(x,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{control:n.control,name:"phone",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Phone *"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"+852 1234 5678","data-testid":"input-phone"})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"whatsapp",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"WhatsApp *"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"+852 1234 5678","data-testid":"input-whatsapp"})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Email *"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"info@hospital.com",type:"email","data-testid":"input-email"})}),e.jsx(x,{})]})})]})]}),e.jsx(Q,{value:"photos",className:"space-y-4",children:e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Hospital Photos"}),e.jsx(Ze,{children:"Add photos of the hospital to help pet owners"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[m&&e.jsxs(e.Fragment,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>{var s;return(s=A.current)==null?void 0:s.click()},disabled:E,className:"flex-shrink-0","data-testid":"button-upload-photo",children:E?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Upload from Device"]})}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:A,onChange:J,disabled:E,"data-testid":"input-file-upload"})]}),e.jsxs("div",{className:"flex gap-2 flex-1",children:[e.jsx(b,{placeholder:m?"Or enter photo URL":"Enter photo URL (e.g., https://example.com/photo.jpg)",value:S,onChange:s=>P(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),H()),"data-testid":"input-photo-url"}),e.jsxs(g,{type:"button",onClick:H,"data-testid":"button-add-photo",children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"Add URL"]})]})]}),!m&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx(Se,{className:"h-4 w-4 inline mr-1"}),"Direct upload will be available after saving the hospital"]}),y&&y.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-4",children:y.map((s,o)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Hospital photo ${o+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:d=>{d.target.src="/placeholder-image.png"}}),e.jsx(g,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>m?O.mutate(s):q(o),disabled:m?O.isPending:!1,"data-testid":`button-remove-photo-${o}`,children:e.jsx(ms,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:["Photo ",o+1]})]},o))}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[e.jsx(ve,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No photos added yet"}),e.jsx("p",{className:"text-sm",children:m?"Upload from your device or add photo URLs":"Add photo URLs above to display them here"})]})]})]})}),e.jsxs(Q,{value:"facilities",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"parking",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Parking Available"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"wheelchairAccess",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Wheelchair Accessible"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"isolationWard",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Isolation Ward"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"ambulanceSupport",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Ambulance Support"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"eolSupport",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"End-of-Life Support"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"whatsappTriage",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"WhatsApp Triage"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx(i,{control:n.control,name:"icuLevel",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"ICU Level"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"e.g., Level 2 ICU"})}),e.jsx(x,{})]})})]}),e.jsxs(Q,{value:"medical",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Optional:"})," Help pet parents find you during emergencies by listing your medical services and capabilities."]})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Imaging Services"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"imagingXray",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"X-Ray"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"imagingUS",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Ultrasound"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"imagingCT",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"CT Scan"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"sameDayCT",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Same-Day CT"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Laboratory & Testing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"inHouseLab",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"In-House Laboratory"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"extLabCutoff",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"External Lab Cutoff Time"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"e.g., 6:00 PM"})})]})})]}),e.jsx(i,{control:n.control,name:"bloodBankAccess",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Blood Bank Access"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"e.g., On-site blood bank"})}),e.jsx(x,{})]})}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Surgery Capabilities"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"sxEmergencySoft",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Emergency Soft Tissue Surgery"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"sxEmergencyOrtho",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Emergency Orthopedic Surgery"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Life Support Equipment"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{control:n.control,name:"oxygenTherapy",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Oxygen Therapy / Tanks"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"ventilator",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Ventilator / Respirator"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"bloodTransfusion",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Blood Bank (transfusion support)"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"imagingMRI",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"MRI Imaging"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"endoscopy",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Endoscopy"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"dialysis",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Dialysis / Renal Support"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"defibrillator",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Defibrillator / AED"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})})]}),e.jsx(i,{control:n.control,name:"anaesMonitoring",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Anesthesia Monitoring"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"e.g., Advanced monitoring equipment"})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"specialistAvail",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Specialist Availability"}),e.jsx(r,{children:e.jsx(B,{...s,value:s.value||"",placeholder:"List available specialists",rows:3})}),e.jsx(x,{})]})})]}),e.jsxs(Q,{value:"operational",className:"space-y-4",children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Optional:"})," Share operational details like visiting hours, facilities, and support options to build trust with pet owners."]})}),e.jsx(i,{control:n.control,name:"onSiteVet247",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{className:"text-base",children:"On-Site Vet 24/7"}),e.jsx(Y,{children:"Is a veterinarian on-site 24 hours?"})]}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"nurse24h",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(t,{className:"text-base",children:"24-Hour Nursing"}),e.jsx(Y,{children:"Are nurses available 24 hours?"})]}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"triagePolicy",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Triage Policy"}),e.jsx(r,{children:e.jsx(B,{...s,value:s.value||"",placeholder:"Describe triage process",rows:3})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"typicalWaitBand",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Typical Wait Time"}),e.jsxs(je,{onValueChange:s.onChange,value:s.value||"",children:[e.jsx(r,{children:e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select wait time"})})}),e.jsxs(be,{children:[e.jsx(C,{value:"<30min",children:"< 30 minutes"}),e.jsx(C,{value:"30-60min",children:"30-60 minutes"}),e.jsx(C,{value:"1-2hr",children:"1-2 hours"}),e.jsx(C,{value:">2hr",children:"> 2 hours"})]})]}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"ownerVisitPolicy",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Owner Visiting Policy"}),e.jsx(r,{children:e.jsx(B,{...s,value:s.value||"",placeholder:"Describe visiting hours and policies",rows:3})}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"recheckWindow",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Recheck Window"}),e.jsx(r,{children:e.jsx(b,{...s,value:s.value||"",placeholder:"e.g., 48 hours"})}),e.jsx(x,{})]})}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Client Support"}),e.jsx(ue,{control:n.control,name:"languages",label:"Languages Spoken",placeholder:"e.g., English, Cantonese, Mandarin, Japanese",description:"Comma-separated list of languages spoken by staff",testId:"input-languages"}),e.jsx("h3",{className:"text-lg font-semibold mt-6",children:"Payment & Insurance"}),e.jsx(i,{control:n.control,name:"admissionDeposit",render:({field:s})=>e.jsxs(l,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(t,{className:"text-base",children:"Requires Admission Deposit"})}),e.jsx(r,{children:e.jsx(c,{checked:s.value||!1,onCheckedChange:s.onChange})})]})}),e.jsx(i,{control:n.control,name:"depositBand",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Deposit Range"}),e.jsxs(je,{onValueChange:s.onChange,value:s.value||"",children:[e.jsx(r,{children:e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select deposit range"})})}),e.jsxs(be,{children:[e.jsx(C,{value:"<5k",children:"< HK$5,000"}),e.jsx(C,{value:"5-10k",children:"HK$5,000 - 10,000"}),e.jsx(C,{value:"10-20k",children:"HK$10,000 - 20,000"}),e.jsx(C,{value:">20k",children:"> HK$20,000"})]})]}),e.jsx(x,{})]})}),e.jsx(i,{control:n.control,name:"refundPolicy",render:({field:s})=>e.jsxs(l,{children:[e.jsx(t,{children:"Refund Policy"}),e.jsx(r,{children:e.jsx(B,{...s,value:s.value||"",placeholder:"Describe refund policy",rows:3})}),e.jsx(x,{})]})}),e.jsx(ue,{control:n.control,name:"payMethods",label:"Payment Methods Accepted",placeholder:"e.g., Cash, Credit Card, PayMe, FPS, Octopus",description:"Comma-separated list of accepted payment methods",testId:"input-pay-methods"}),e.jsx(ue,{control:n.control,name:"insuranceSupport",label:"Insurance Providers Supported",placeholder:"e.g., Blue Cross, OneDegree, Petclaim, Pawpular",description:"Comma-separated list of insurance providers supported",testId:"input-insurance-support"})]})]}),e.jsx(Qe,{children:e.jsx(g,{type:"submit","data-testid":"button-submit",children:k})})]})})}function Is(){const[n,N]=p.useState(!1),[k,m]=p.useState(!1),[w,S]=p.useState(!1),[P,E]=p.useState(!1),[j,A]=p.useState(null),[y,H]=p.useState(null),[q,G]=p.useState(null),[O,J]=p.useState(null),[s,o]=p.useState(""),[d,W]=p.useState("all"),[T,_]=p.useState(1),ae=20,{toast:v}=Te(),{data:I,isLoading:De}=me({queryKey:["/api/regions"]}),{data:h,isLoading:Le}=me({queryKey:["/api/hospitals"]}),U={total:(h==null?void 0:h.length)??0,verified:((h==null?void 0:h.filter(a=>a.lastVerifiedAt))??[]).length,open247:((h==null?void 0:h.filter(a=>a.open247))??[]).length,withPhotos:((h==null?void 0:h.filter(a=>a.photos&&a.photos.length>0))??[]).length,partners:((h==null?void 0:h.filter(a=>a.isPartner))??[]).length},ne=(h==null?void 0:h.filter(a=>{if(s){const u=s.toLowerCase(),f=a.nameEn.toLowerCase().includes(u)||a.nameZh.toLowerCase().includes(u),z=a.addressEn.toLowerCase().includes(u)||a.addressZh.toLowerCase().includes(u);if(!f&&!z)return!1}return!(d!=="all"&&a.regionId!==d)}))??[],K=Math.ceil(ne.length/ae),fe=ne.slice((T-1)*ae,T*ae),He=()=>{o(""),W("all"),_(1)},le=Ne({resolver:Ce(Ae),defaultValues:{nameEn:"",nameZh:"",addressEn:"",addressZh:"",slug:"",regionId:"",phone:null,whatsapp:null,email:null,websiteUrl:null,open247:!0,isAvailable:!0,isPartner:!1,latitude:null,longitude:null,photos:[],liveStatus:null,onSiteVet247:null,triagePolicy:null,typicalWaitBand:null,isolationWard:null,ambulanceSupport:null,icuLevel:null,nurse24h:null,ownerVisitPolicy:null,eolSupport:null,imagingXray:null,imagingUS:null,imagingCT:null,sameDayCT:null,inHouseLab:null,extLabCutoff:null,bloodBankAccess:null,sxEmergencySoft:null,sxEmergencyOrtho:null,anaesMonitoring:null,specialistAvail:null,oxygenTherapy:null,ventilator:null,bloodTransfusion:null,imagingMRI:null,endoscopy:null,dialysis:null,defibrillator:null,whatsappTriage:null,parking:null,wheelchairAccess:null,admissionDeposit:null,depositBand:null,recheckWindow:null,refundPolicy:null,speciesAccepted:null,languages:null,payMethods:null,insuranceSupport:null}}),ye=Ne({resolver:Ce(Ae)}),Fe=()=>{le.reset(),N(!0)},Re=a=>{A(a),ye.reset({nameEn:a.nameEn,nameZh:a.nameZh,addressEn:a.addressEn,addressZh:a.addressZh,slug:a.slug,regionId:a.regionId,phone:a.phone||null,whatsapp:a.whatsapp||null,email:a.email||null,websiteUrl:a.websiteUrl||null,open247:a.open247,isAvailable:a.isAvailable,isPartner:a.isPartner,latitude:a.latitude?String(a.latitude):null,longitude:a.longitude?String(a.longitude):null,photos:a.photos||[],liveStatus:a.liveStatus??null,onSiteVet247:a.onSiteVet247??null,triagePolicy:a.triagePolicy??null,typicalWaitBand:a.typicalWaitBand??null,isolationWard:a.isolationWard??null,ambulanceSupport:a.ambulanceSupport??null,icuLevel:a.icuLevel??null,nurse24h:a.nurse24h??null,ownerVisitPolicy:a.ownerVisitPolicy??null,eolSupport:a.eolSupport??null,imagingXray:a.imagingXray??null,imagingUS:a.imagingUS??null,imagingCT:a.imagingCT??null,sameDayCT:a.sameDayCT??null,inHouseLab:a.inHouseLab??null,extLabCutoff:a.extLabCutoff??null,bloodBankAccess:a.bloodBankAccess??null,sxEmergencySoft:a.sxEmergencySoft??null,sxEmergencyOrtho:a.sxEmergencyOrtho??null,anaesMonitoring:a.anaesMonitoring??null,specialistAvail:a.specialistAvail??null,oxygenTherapy:a.oxygenTherapy??null,ventilator:a.ventilator??null,bloodTransfusion:a.bloodTransfusion??null,imagingMRI:a.imagingMRI??null,endoscopy:a.endoscopy??null,dialysis:a.dialysis??null,defibrillator:a.defibrillator??null,whatsappTriage:a.whatsappTriage??null,parking:a.parking??null,wheelchairAccess:a.wheelchairAccess??null,admissionDeposit:a.admissionDeposit??null,depositBand:a.depositBand??null,recheckWindow:a.recheckWindow??null,refundPolicy:a.refundPolicy??null,speciesAccepted:a.speciesAccepted??null,languages:a.languages??null,payMethods:a.payMethods??null,insuranceSupport:a.insuranceSupport??null}),m(!0)},Me=a=>{A(a),S(!0)},Oe=async a=>{try{await M("POST","/api/hospitals",a),await $.invalidateQueries({queryKey:["/api/hospitals"]}),N(!1),le.reset(),v({title:"Success",description:"Hospital added successfully"})}catch(u){v({title:"Error",description:u.message||"Failed to add hospital",variant:"destructive"})}},Ie=async a=>{if(j)try{await M("PATCH",`/api/hospitals/${j.id}`,a),await $.invalidateQueries({queryKey:["/api/hospitals"]}),m(!1),A(null),v({title:"Success",description:"Hospital updated successfully"})}catch(u){v({title:"Error",description:u.message||"Failed to update hospital",variant:"destructive"})}},Ue=async()=>{if(j)try{await M("DELETE",`/api/hospitals/${j.id}`),await $.invalidateQueries({queryKey:["/api/hospitals"]}),S(!1),A(null),v({title:"Success",description:"Hospital deleted successfully"})}catch(a){v({title:"Error",description:a.message||"Failed to delete hospital",variant:"destructive"})}},te=se({mutationFn:async a=>{const f=await(await M("POST",`/api/hospitals/${a}/generate-code`,{})).json();return{code:f.code,expiresAt:f.expiresAt}},onSuccess:a=>{G(a.code),J(a.expiresAt),E(!0),v({title:"Code generated successfully"})},onError:a=>{v({title:"Error generating code",description:a.message,variant:"destructive"})}}),re=se({mutationFn:async({hospitalId:a,isPartner:u})=>{await M("PATCH",`/api/hospitals/${a}`,{isPartner:u})},onSuccess:(a,u)=>{$.invalidateQueries({queryKey:["/api/hospitals"]}),v({title:u.isPartner?"Partner Added":"Partner Removed",description:u.isPartner?"Hospital is now a PetSOS Partner":"Hospital is no longer a PetSOS Partner"})},onError:a=>{v({title:"Error updating partner status",description:a.message,variant:"destructive"})}});return Le||De?e.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(ee,{className:"h-8 w-8 animate-spin text-primary"})})}):e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx(Be,{href:"/admin",children:e.jsxs(g,{variant:"ghost",size:"sm","data-testid":"button-back",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),e.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-admin-hospitals",children:"Admin: Hospital Management"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage 24-hour animal hospital profiles with photos and facilities"})]}),e.jsxs(g,{onClick:Fe,"data-testid":"button-add-hospital",children:[e.jsx(rs,{className:"h-4 w-4 mr-2"}),"Add Hospital"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs(D,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Total Hospitals"}),e.jsx(is,{className:"h-4 w-4 text-blue-500"})]}),e.jsx(L,{children:e.jsx("div",{className:"text-2xl font-bold",children:U.total})})]}),e.jsxs(D,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Open 24/7"}),e.jsx(we,{className:"h-4 w-4 text-green-500"})]}),e.jsx(L,{children:e.jsx("div",{className:"text-2xl font-bold",children:U.open247})})]}),e.jsxs(D,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Partners"}),e.jsx(he,{className:"h-4 w-4 text-amber-500"})]}),e.jsx(L,{children:e.jsx("div",{className:"text-2xl font-bold",children:U.partners})})]}),e.jsxs(D,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Verified"}),e.jsx(ke,{className:"h-4 w-4 text-emerald-500"})]}),e.jsx(L,{children:e.jsx("div",{className:"text-2xl font-bold",children:U.verified})})]}),e.jsxs(D,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"With Photos"}),e.jsx(ve,{className:"h-4 w-4 text-purple-500"})]}),e.jsx(L,{children:e.jsx("div",{className:"text-2xl font-bold",children:U.withPhotos})})]})]}),e.jsx(D,{className:"mb-6",children:e.jsxs(L,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Search by name or address...",value:s,onChange:a=>o(a.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs(je,{value:d,onValueChange:W,children:[e.jsx(pe,{className:"w-full md:w-48",children:e.jsx(ge,{placeholder:"All Regions"})}),e.jsxs(be,{children:[e.jsx(C,{value:"all",children:"All Regions"}),I==null?void 0:I.map(a=>e.jsx(C,{value:a.id,children:a.nameEn},a.id))]})]}),(s||d!=="all")&&e.jsxs(g,{variant:"outline",onClick:He,children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Clear"]})]}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",ne.length," of ",U.total," hospitals"]})]})}),e.jsxs(D,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Hospitals"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",T," of ",K||1]})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"space-y-4",children:[fe.map(a=>{const u=I==null?void 0:I.find(z=>z.id===a.regionId),f=a.photos;return e.jsx("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors","data-testid":`hospital-card-${a.id}`,children:e.jsxs("div",{className:"flex gap-4",children:[f&&f.length>0&&e.jsx("img",{src:f[0],alt:a.nameEn,className:"w-24 h-24 object-cover rounded-lg flex-shrink-0",onError:z=>{z.target.style.display="none"}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.nameEn}),e.jsx(X,{variant:"outline",children:(u==null?void 0:u.code)||"N/A"}),a.open247&&e.jsx(X,{variant:"default",className:"bg-green-600",children:"24hrs"}),a.isPartner&&e.jsxs(X,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Partner"]}),a.lastVerifiedAt&&e.jsxs(X,{variant:"secondary",children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"Verified"]}),f&&f.length>0&&e.jsxs(X,{variant:"outline",children:[e.jsx(ve,{className:"h-3 w-3 mr-1"}),f.length," ",f.length===1?"photo":"photos"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:a.nameZh}),e.jsx("p",{className:"text-sm mb-1",children:a.addressEn}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mt-2",children:[a.phone&&e.jsxs("span",{className:"text-muted-foreground",children:["ðŸ“ž ",a.phone]}),a.latitude&&a.longitude&&e.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(qe,{className:"h-3 w-3"}),Number(a.latitude).toFixed(4),", ",Number(a.longitude).toFixed(4)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{variant:a.isPartner?"default":"outline",size:"sm",onClick:()=>re.mutate({hospitalId:a.id,isPartner:!a.isPartner}),"data-testid":`button-toggle-partner-${a.id}`,title:a.isPartner?"Remove as Partner":"Make Partner",disabled:re.isPending,className:a.isPartner?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700":"",children:re.isPending?e.jsx(ee,{className:"h-4 w-4 animate-spin"}):e.jsx(he,{className:`h-4 w-4 ${a.isPartner?"fill-current":""}`})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>{H(a),G(null),te.mutate(a.id)},"data-testid":`button-generate-code-${a.id}`,title:a.slug?"Generate Access Code":"Add URL slug first to enable access codes",disabled:te.isPending||!a.slug,children:te.isPending?e.jsx(ee,{className:"h-4 w-4 animate-spin"}):e.jsx(js,{className:"h-4 w-4"})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>Re(a),"data-testid":`button-edit-${a.id}`,children:e.jsx(cs,{className:"h-4 w-4"})}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>Me(a),"data-testid":`button-delete-${a.id}`,children:e.jsx(ds,{className:"h-4 w-4 text-destructive"})})]})]})},a.id)}),fe.length===0&&e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No hospitals found"})]}),K>1&&e.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>_(a=>Math.max(1,a-1)),disabled:T===1,children:"Previous"}),e.jsxs("span",{className:"flex items-center px-4 text-sm text-muted-foreground",children:["Page ",T," of ",K]}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>_(a=>Math.min(K,a+1)),disabled:T===K,children:"Next"})]})]})]}),e.jsx(ie,{open:n,onOpenChange:N,children:e.jsxs(oe,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ce,{children:[e.jsx(de,{children:"Add New Hospital"}),e.jsx(xe,{children:"Enter the hospital details including photos and facilities"})]}),e.jsx(Ee,{form:le,onSubmit:Oe,submitLabel:"Add Hospital"})]})}),e.jsx(ie,{open:k,onOpenChange:m,children:e.jsxs(oe,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ce,{children:[e.jsx(de,{children:"Edit Hospital"}),e.jsx(xe,{children:"Update the hospital details"})]}),e.jsx(Ee,{form:ye,onSubmit:Ie,submitLabel:"Save Changes",hospitalId:j==null?void 0:j.id})]})}),e.jsx(Ge,{open:w,onOpenChange:S,children:e.jsxs(Je,{children:[e.jsxs(_e,{children:[e.jsx(Ye,{children:"Are you absolutely sure?"}),e.jsxs(es,{children:["This will permanently delete ",e.jsx("strong",{children:j==null?void 0:j.nameEn}),". This action cannot be undone."]})]}),e.jsxs(ss,{children:[e.jsx(as,{children:"Cancel"}),e.jsx(ns,{onClick:Ue,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Delete"})]})]})}),e.jsx(ie,{open:P,onOpenChange:a=>{E(a),a||J(null)},children:e.jsxs(oe,{className:"max-w-md",children:[e.jsxs(ce,{children:[e.jsx(de,{children:"Generated Code"}),e.jsx(xe,{children:"Share this code with the hospital owner to access their edit link"})]}),q&&y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Access Code:"}),e.jsx("p",{className:"text-3xl font-mono font-bold text-red-600 dark:text-red-400 tracking-widest",children:q}),O&&e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-3","data-testid":"text-code-expiry",children:[e.jsx(we,{className:"inline h-3 w-3 mr-1"}),"Expires: ",new Date(O).toLocaleDateString()," (",new Date(O).toLocaleTimeString(),")"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Edit Link:"}),e.jsx("p",{className:"text-sm font-mono break-all text-blue-600 dark:text-blue-400",children:`${window.location.origin}/hospital/edit/${y.slug}`})]}),e.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-md",children:e.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:[e.jsx("strong",{children:"Important:"})," This code expires in 48 hours. After expiration, a new code must be generated."]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(q),v({title:"Code copied to clipboard"})},className:"flex-1","data-testid":"button-copy-code",children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Copy Code"]}),e.jsxs(g,{variant:"outline",onClick:()=>{const a=`${window.location.origin}/hospital/edit/${y.slug}`;navigator.clipboard.writeText(a),v({title:"Link copied to clipboard"})},className:"flex-1","data-testid":"button-copy-link",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})]})})]})}export{Is as default};
