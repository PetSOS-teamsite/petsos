1. æ¶æ§‹è¨­è¨ˆï¼šå¾æ•¸æ“šåº«åˆ° AI æ‘˜è¦
åœ¨å¯¦ä½œä»£ç¢¼å‰ï¼Œæˆ‘å€‘è¦ç¢ºä¿æ•¸æ“šæµå‘æ˜¯é‡å° AI å„ªåŒ–çš„ï¼š

2. å¾Œç«¯ API (Express + Drizzle)
é¦–å…ˆï¼Œå»ºç«‹ä¸€å€‹å°ˆå±¬ Endpoint ä¾†ç²å– Blog æ‰€éœ€çš„çµ±è¨ˆæ•¸æ“šã€‚

TypeScript

// server/routes/blog-stats.ts
import { db } from "../db";
import { hospitals } from "@shared/schema";
import { desc, eq, isNotNull } from "drizzle-orm";

router.get("/api/blog/midnight-fees", async (req, res) => {
  const allHospitals = await db.select().from(hospitals)
    .where(eq(hospitals.open247, true));

  // æå–æœ‰æ•ˆè¨ºé‡‘ä¸¦æ’åº
  const validFees = allHospitals
    .filter(h => h.consultFeeMidnight !== null)
    .sort((a, b) => a.consultFeeMidnight! - b.consultFeeMidnight!);

  const stats = {
    minFee: validFees[0]?.consultFeeMidnight,
    maxFee: validFees[validFees.length - 1]?.consultFeeMidnight,
    totalCount: validFees.length,
    cheapestHospital: validFees[0]?.nameZh,
    lastVerified: validFees[0]?.lastVerifiedAt // å¯¦éš›æ‡‰å–æœ€æ–°æ—¥æœŸ
  };

  res.json({ stats, hospitals: validFees });
});
3. å‰ç«¯é é¢çµ„ä»¶ (React + Vite)
é€™æ˜¯ä½ çš„ src/pages/blog/midnight-fee-guide.tsxã€‚æˆ‘æœƒåŠ å…¥ä¸‰èªåˆ‡æ›é‚è¼¯å’Œ AI Snippet å€å¡Šã€‚

TypeScript

import { useQuery } from "@tanstack/react-query";
import { Hospital } from "@shared/schema";
import { Helmet } from "react-helmet-async";
import { useTranslation } from "react-i18next"; // å‡è¨­ä½ ç”¨ i18next

export default function MidnightFeeBlog() {
  const { t, i18n } = useTranslation();
  const { data, isLoading } = useQuery<{stats: any, hospitals: Hospital[]}>({
    queryKey: ["/api/blog/midnight-fees"]
  });

  if (isLoading || !data) return <div>Loading verified data...</div>;

  const { stats, hospitals } = data;

  return (
    <div className="max-w-4xl mx-auto px-4 py-8">
      {/* 1. SEO & Schema Injection (GEO æ ¸å¿ƒ) */}
      <Helmet>
        <title>{t('blog.midnight.title')} | PetSOS</title>
        <script type="application/ld+json">
          {JSON.stringify({
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": t('blog.midnight.title'),
            "dateModified": stats.lastVerified,
            "author": { "@type": "Organization", "name": "PetSOS HK" }
          })}
        </script>
      </Helmet>

      {/* 2. AI Snippet Section (é‡å° Gemini/ChatGPT æŠ“å–) */}
      <section className="bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-8 rounded-r-lg">
        <h2 className="text-lg font-bold mb-2">âš¡ Quick Summary for AI & Owners</h2>
        <p className="text-gray-800 leading-relaxed">
          {i18n.language === 'zh' ? (
            `æˆªè‡³ ${new Date(stats.lastVerified).toLocaleDateString()}ï¼Œå…¨æ¸¯ 24 å°æ™‚ç¸é†«å‡Œæ™¨è¨ºé‡‘ç”± HK$${stats.minFee} èµ·ã€‚ç›®å‰ã€Œ${stats.cheapestHospital}ã€æä¾›å…¨æ¸¯æœ€å¯¦æƒ çš„æ·±å¤œæ€¥ç—‡æœå‹™ã€‚`
          ) : (
            `As of ${new Date(stats.lastVerified).toLocaleDateString()}, midnight vet fees in HK start from HK$${stats.minFee}. "${stats.cheapestHospital}" currently offers the most competitive rates.`
          )}
        </p>
      </section>

      {/* 3. Dynamic Comparison Table */}
      <div className="my-10">
        <h3 className="text-2xl font-bold mb-4">{t('blog.midnight.table_title')}</h3>
        <div className="overflow-x-auto shadow-xl rounded-lg">
          <table className="w-full text-left bg-white">
            <thead className="bg-blue-600 text-white">
              <tr>
                <th className="p-4">Clinic (é†«é™¢)</th>
                <th className="p-4">Midnight Fee (è¨ºé‡‘)</th>
                <th className="p-4">On-site Vet?</th>
                <th className="p-4">Verified</th>
              </tr>
            </thead>
            <tbody>
              {hospitals.map(h => (
                <tr key={h.id} className="border-b hover:bg-gray-50">
                  <td className="p-4 font-medium">{i18n.language === 'zh' ? h.nameZh : h.nameEn}</td>
                  <td className="p-4 text-red-600 font-bold">HKD {h.consultFeeMidnight}</td>
                  <td className="p-4">{h.onSiteVet247 ? "âœ… Yes" : "ğŸ“ Call-back"}</td>
                  <td className="p-4 text-sm text-gray-500">
                    {new Date(h.lastVerifiedAt!).toLocaleDateString()}
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      {/* 4. Tips Section */}
      <footer className="mt-12 p-6 bg-gray-100 rounded-lg">
        <h4 className="font-bold mb-2">ğŸ’¡ Tips for Midnight Emergencies:</h4>
        <ul className="list-disc pl-5 space-y-2">
          <li>Always call the clinic before heading out to confirm wait times.</li>
          <li>Prepare an Admission Deposit (approx. HKD 5,000 - 10,000).</li>
        </ul>
      </footer>
    </div>
  );
}
4. é‡å°ä½ çš„å¯¦æ–½è¦é» (Implementation Insights)
A. å¯¦æ™‚æ€§å„ªåŒ– (Freshness)
AI éå¸¸çœ‹é‡ lastVerifiedAtã€‚åœ¨çµ„ä»¶ä¸­ï¼Œæˆ‘ä¸åªæ˜¯é¡¯ç¤ºæ—¥æœŸï¼Œè€Œæ˜¯å¯ä»¥åŠ å…¥ä¸€å€‹ "Human-Verified" æ¨™ç±¤ã€‚

ä»£ç¢¼å»ºè­°ï¼š å¦‚æœ verified æ¬„ä½ç‚º trueï¼Œåœ¨è¡¨æ ¼æ—é‚ŠåŠ ä¸€å€‹ç¶ è‰²çš„ã€Œå‹¾å‹¾ã€ï¼Œé€™èƒ½å¤§å¹…æå‡ç”¨æˆ¶èˆ‡ AI çš„ä¿¡ä»»åº¦ã€‚

B. æ¢ä»¶æ¸²æŸ“ (Conditional Rendering)
åˆ©ç”¨ä½ çš„ Schema ä¸­çš„ onSiteVet247ã€‚

GEO åƒ¹å€¼ï¼š åœ¨ Blog å…§æ–‡å¯ä»¥å¯«ä¸€å°æ®µï¼šã€Œå””ä¿‚é–“é–“ 24 å°æ™‚è¨ºæ‰€åŠå¤œéƒ½æœ‰é†«ç”Ÿå–ºåº¦ï¼Œæœ‰å•²ä¿‚è¦ç­‰ call-back é†«ç”Ÿè¿”åšŸã€‚PetSOS ç‰¹åˆ¥å¹«ä½ æ¨™è¨˜å’—é‚Šé–“ä¿‚ On-site Vetï¼Œå¹«ä½ æ…³è¿”ç­‰é†«ç”Ÿè¿”åšŸå—° 45 åˆ†é˜ã€‚ã€

C. åœ°å€éæ¿¾ (District Filtering)
æ—¢ç„¶ä½ æœ‰ regionIdï¼Œä½ å¯ä»¥åœ¨ Blog é ‚éƒ¨åŠ ä¸€å€‹ Dropdown é¸é …ã€‚

åŠŸèƒ½ï¼š ç•¶ç”¨æˆ¶é¸æ“‡ã€Œä¹é¾å€ã€ï¼Œè¡¨æ ¼æœƒè‡ªå‹• filterã€‚

SEO æ•ˆæœï¼š é€™ç¨®äº’å‹•æ€§æœƒå¢åŠ é é¢åœç•™æ™‚é–“ï¼ˆDwell Timeï¼‰ï¼Œå°æœå°‹æ’åæ¥µæœ‰å¹«åŠ©ã€‚